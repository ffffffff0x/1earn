```
  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                              â–ˆâ–ˆ       â–ˆâ–ˆ       â–ˆâ–ˆ
 â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                      â–‘â–ˆâ–ˆ      â–‘â–ˆâ–ˆ      â–‘â–‘
â–‘â–ˆâ–ˆ       â–‘â–ˆâ–ˆâ–‘â–‘â–‘â–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ      â–‘â–ˆâ–ˆ      â–‘â–ˆâ–ˆ       â–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆ   â–ˆâ–ˆ â–ˆâ–ˆ   â–ˆâ–ˆ
â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–ˆâ–ˆ  â–‘â–ˆâ–ˆ â–ˆâ–ˆâ–‘â–‘â–‘â–ˆâ–ˆ â–ˆâ–ˆâ–‘â–‘â–‘â–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–ˆâ–ˆ      â–‘â–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ–‘â–‘â–‘â–ˆâ–ˆâ–‘â–ˆâ–ˆ  â–‘â–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆ â–ˆâ–ˆ
â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â–ˆâ–ˆâ–‘â–‘â–‘â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘ â–‘â–ˆâ–ˆ      â–‘â–ˆâ–ˆ â–‘â–ˆâ–ˆ  â–‘â–ˆâ–ˆâ–‘â–ˆâ–ˆ  â–‘â–ˆâ–ˆ â–‘â–‘â–ˆâ–ˆâ–ˆ
       â–‘â–ˆâ–ˆâ–‘â–ˆâ–ˆâ–‘â–‘â–‘  â–‘â–ˆâ–ˆâ–‘â–‘â–‘â–‘ â–‘â–ˆâ–ˆâ–‘â–‘â–‘â–‘ â–‘â–ˆâ–ˆ  â–‘â–ˆâ–ˆ      â–‘â–ˆâ–ˆ      â–‘â–ˆâ–ˆ â–‘â–ˆâ–ˆ  â–‘â–ˆâ–ˆâ–‘â–ˆâ–ˆ  â–‘â–ˆâ–ˆ  â–ˆâ–ˆâ–‘â–ˆâ–ˆ
 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â–‘â–ˆâ–ˆ     â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ      â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–ˆâ–ˆ â–ˆâ–ˆâ–ˆ  â–‘â–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â–ˆâ–ˆ â–‘â–‘â–ˆâ–ˆ
â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  â–‘â–‘       â–‘â–‘â–‘â–‘â–‘â–‘  â–‘â–‘â–‘â–‘â–‘â–‘  â–‘â–‘â–‘â–‘â–‘â–‘       â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â–‘â–‘ â–‘â–‘â–‘   â–‘â–‘  â–‘â–‘â–‘â–‘â–‘â–‘ â–‘â–‘   â–‘â–‘
```

<p align="center">
    <a href="https://en.wikipedia.org/wiki/Pablo_Picasso"><img src="../../../assets/img/banner/Speed-Linux.jpg" width="90%"></a>
</p>

<p align="center">
    <a href="https://github.com/ellerbrock/open-source-badges/"><img src="../../../assets/img/Integrated/Linux/open-source.png" width="15%"></a>
    <a href="https://github.com/ellerbrock/open-source-badges/"><img src="../../../assets/img/Integrated/Linux/bash.png" width="15%"></a>
</p>

`åŸºç¡€ Linux å‘½ä»¤ã€æ“ä½œæŒ‡å—`

---

# å¤§çº²

* **[ğŸ‘ åŸºç¡€ä½¿ç”¨](#åŸºç¡€ä½¿ç”¨)**
	* [ç¯å¢ƒå˜é‡](#ç¯å¢ƒå˜é‡)
	* [ç¬¦å·](#ç¬¦å·)
	* [ä¼šè¯](#ä¼šè¯)
		* [å†å²è®°å½•](#å†å²è®°å½•)
	* [æ–‡ä»¶å’Œç›®å½•](#æ–‡ä»¶å’Œç›®å½•)
		* [æŸ¥çœ‹](#æŸ¥çœ‹)
		* [åˆ›å»º](#åˆ›å»º)
		* [åˆ é™¤](#åˆ é™¤)
		* [æœç´¢](#æœç´¢)
		* [ä¿®æ”¹](#ä¿®æ”¹)
		* [æ¯”è¾ƒ](#æ¯”è¾ƒ)
		* [é“¾æ¥](#é“¾æ¥)
		* [å‹ç¼©å¤‡ä»½](#å‹ç¼©å¤‡ä»½)

* **[ğŸ“¶ ç½‘ç»œç®¡ç†](#ç½‘ç»œç®¡ç†)**
	* [æŸ¥çœ‹ç½‘ç»œä¿¡æ¯](#æŸ¥çœ‹ç½‘ç»œä¿¡æ¯)
	* [é…ç½®](#é…ç½®)
	* [æŠ“åŒ…](#æŠ“åŒ…)
	* [ä¼ è¾“-ä¸‹è½½](#ä¼ è¾“-ä¸‹è½½)
		* [bt](#bt)
		* [è¿œç¨‹è®¿é—®](#è¿œç¨‹è®¿é—®)
	* [Firewall](#firewall)
		* [Firewalld](#firewalld)
		* [Iptables](#iptables)
		* [ufw](#ufw)
	* [è½¯ä»¶åŒ…ç®¡ç†](#è½¯ä»¶åŒ…ç®¡ç†)
		* [apt](#apt)
		* [Binary](#binary)
		* [dnf](#dnf)
		* [dpkg](#dpkg)
		* [Pacman](#pacman)
		* [rpm](#rpm)
		* [snap](#snap)
		* [yum](#yum)
			* é…ç½® yum æº
			* é…ç½® EPEL æº
		* [å¸¸ç”¨è½¯ä»¶](#å¸¸ç”¨è½¯ä»¶)

* **[ğŸ¦‹ ç³»ç»Ÿç®¡ç†](#ç³»ç»Ÿç®¡ç†)**
	* [ç³»ç»Ÿä¿¡æ¯](#ç³»ç»Ÿä¿¡æ¯)
		* [æ—¥å¿—](#æ—¥å¿—)
	* [ç³»ç»Ÿè®¾ç½®](#ç³»ç»Ÿè®¾ç½®)
		* [æ—¶é—´](#æ—¶é—´)
		* [æ—¶åŒº](#æ—¶åŒº)
		* [è¯­è¨€](#è¯­è¨€)
		* [å¯åŠ¨é¡¹-è®¡åˆ’ä»»åŠ¡](#å¯åŠ¨é¡¹-è®¡åˆ’ä»»åŠ¡)
		* [SELinux](#selinux)
	* [è´¦å·ç®¡æ§](#è´¦å·ç®¡æ§)
	* [è¿›ç¨‹ç®¡ç†](#è¿›ç¨‹ç®¡ç†)
	* [å†…æ ¸ç®¡ç†](#å†…æ ¸ç®¡ç†)
	* [è®¾å¤‡ç®¡ç†](#è®¾å¤‡ç®¡ç†)
		* [å†…å­˜](#å†…å­˜)
		* [ç£ç›˜](#ç£ç›˜)
		* [æ— çº¿ç½‘å¡](#æ— çº¿ç½‘å¡)
		* [è“ç‰™](#è“ç‰™)
		* [å¤–æ¥ç¡¬ç›˜](#å¤–æ¥ç¡¬ç›˜)
		* CD & DVD

---

**åœ¨çº¿æŸ¥è¯¢å‘½ä»¤**
- [Linuxå‘½ä»¤æœç´¢å¼•æ“](https://wangchujiang.com/linux-command/) - éå¸¸ç‰›é€¼,æ¨è
- [Linuxå‘½ä»¤å¤§å…¨(æ‰‹å†Œ)](https://man.linuxde.net/)

---

# åŸºç¡€ä½¿ç”¨

**å¸®åŠ©**
```bash
man		# man æ˜¯ manual çš„ç¼©å†™ï¼Œå°†æŒ‡ä»¤çš„å…·ä½“ä¿¡æ¯æ˜¾ç¤ºå‡ºæ¥ã€‚
	man ls	# æ˜¾ç¤º ls å‘½ä»¤çš„æ‰‹å†Œ,æŒ‰ q é€€å‡º
```

**å‘½ä»¤é£æ ¼**
- Unix é£æ ¼çš„å‚æ•°,å‰é¢åŠ å•ç ´æŠ˜çº¿,ä¾‹å¦‚: `-H`
- BSD é£æ ¼çš„å‚æ•°,å‰é¢ä¸åŠ ç ´æŠ˜çº¿,ä¾‹å¦‚: `h`
- GNU é£æ ¼çš„é•¿å‚æ•°,å‰é¢åŠ åŒç ´æŠ˜çº¿,ä¾‹å¦‚: `--help`

**å…³æœº**
```bash
shutdown	# å…³æœºå‘½ä»¤
	shutdown now	# ç«‹åˆ»å…³æœº(éœ€è¦ root æƒé™)
# é€‰é¡¹è¯´æ˜
# -k ï¼š ä¸ä¼šå…³æœºï¼Œåªæ˜¯å‘é€è­¦å‘Šä¿¡æ¯ï¼Œé€šçŸ¥æ‰€æœ‰åœ¨çº¿çš„ç”¨æˆ·
# -r ï¼š å°†ç³»ç»Ÿçš„æœåŠ¡åœæ‰åå°±é‡æ–°å¯åŠ¨
# -h ï¼š å°†ç³»ç»Ÿçš„æœåŠ¡åœæ‰åå°±ç«‹å³å…³æœº
# -c ï¼š å–æ¶ˆå·²ç»åœ¨è¿›è¡Œçš„ shutdown æŒ‡ä»¤å†…å®¹

halt		# ç«‹åˆ»å…³æœº(æ— éœ€ root æƒé™)
poweroff	# ç«‹åˆ»å…³æœº(æ— éœ€ root æƒé™)
reboot 		# é‡å¯
```

**åˆ«å**

å¦‚æœè¦æ‰§è¡Œå‘½ä»¤å¤ªé•¿åˆä¸ç¬¦åˆç”¨æˆ·çš„ä¹ æƒ¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä¸ºå®ƒæŒ‡å®šä¸€ä¸ªåˆ«å
```bash
alias please="sudo"						# ä¸´æ—¶å°† please ä½œä¸º sudo çš„åˆ«å

# æƒ³è®©å…¶æ°¸ä¹…ç”Ÿæ•ˆåªéœ€è¦å°†è¿™äº› alias åˆ«åè®¾ç½®ä¿å­˜åˆ°æ–‡ä»¶ï¼š ~/.bashrc é‡Œé¢å°±å¯ä»¥äº†
```

**è¿è¡Œè„šæœ¬**
```bash
source <filename>						# åœ¨å½“å‰ bash ç¯å¢ƒä¸‹è¯»å–å¹¶æ‰§è¡Œ FileName ä¸­çš„å‘½ä»¤ã€‚
./xxx.sh								# è¿è¡Œ xxx.sh è„šæœ¬
bash xxx.sh								# è¿è¡Œ xxx.sh è„šæœ¬
```

## ç¯å¢ƒå˜é‡

- å›¾å½¢æ¨¡å¼ç™»å½•æ—¶,é¡ºåºè¯»å– : `/etc/profile` å’Œ `~/.profile`
- å›¾å½¢æ¨¡å¼ç™»å½•å,æ‰“å¼€ç»ˆç«¯æ—¶,é¡ºåºè¯»å– : `/etc/bash.bashrc` å’Œ `~/.bashrc`
- æ–‡æœ¬æ¨¡å¼ç™»å½•æ—¶,é¡ºåºè¯»å– : `/etc/bash.bashrc` , `/etc/profile` å’Œ `~/.bash_profile`

**ç™»å½•äº¤äº’å¼ shell .bash_* files çš„æ‰§è¡Œé¡ºåº**
```bash
execute /etc/profile
IF ~/.bash_profile exists THEN
    execute ~/.bash_profile
ELSE
    IF ~/.bash_login exist THEN
        execute ~/.bash_login
    ELSE
        IF ~/.profile exist THEN
            execute ~/.profile
        END IF
    END IF
END IF
```

**æ³¨é”€äº¤äº’å¼ shell .bash_* files çš„æ‰§è¡Œé¡ºåº**
```bash
IF ~/.bash_logout exists THEN
    execute ~/.bash_logout
END IF
```

**å„å˜é‡æ–‡ä»¶åŒºåˆ«**
- /etc/profile: æ­¤æ–‡ä»¶ä¸ºç³»ç»Ÿçš„æ¯ä¸ªç”¨æˆ·è®¾ç½®ç¯å¢ƒä¿¡æ¯ã€‚å½“ç”¨æˆ·ç™»å½•æ—¶ï¼Œè¯¥æ–‡ä»¶è¢«æ‰§è¡Œä¸€æ¬¡ï¼Œå¹¶ä» /etc/profile.d ç›®å½•çš„é…ç½®æ–‡ä»¶ä¸­æœé›†shell çš„è®¾ç½®ã€‚ä¸€èˆ¬ç”¨äºè®¾ç½®æ‰€æœ‰ç”¨æˆ·ä½¿ç”¨çš„å…¨å±€å˜é‡ã€‚
- /etc/bashrc: å½“ bash shell è¢«æ‰“å¼€æ—¶ï¼Œè¯¥æ–‡ä»¶è¢«è¯»å–ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯æ¬¡æ–°æ‰“å¼€ä¸€ä¸ªç»ˆç«¯ shellï¼Œè¯¥æ–‡ä»¶å°±ä¼šè¢«è¯»å–ã€‚
- ~/.bash_profile æˆ– ~/.profile: åªå¯¹å•ä¸ªç”¨æˆ·ç”Ÿæ•ˆï¼Œå½“ç”¨æˆ·ç™»å½•æ—¶è¯¥æ–‡ä»¶ä»…æ‰§è¡Œä¸€æ¬¡ã€‚ç”¨æˆ·å¯ä½¿ç”¨è¯¥æ–‡ä»¶æ·»åŠ è‡ªå·±ä½¿ç”¨çš„ shell å˜é‡ä¿¡æ¯ã€‚å¦å¤–åœ¨ä¸åŒçš„LINUXæ“ä½œç³»ç»Ÿä¸‹ï¼Œè¿™ä¸ªæ–‡ä»¶å¯èƒ½æ˜¯ä¸åŒçš„ï¼Œå¯èƒ½æ˜¯ ~/.bash_profileï¼Œ ~/.bash_login æˆ– ~/.profile å…¶ä¸­çš„ä¸€ç§æˆ–å‡ ç§ï¼Œå¦‚æœå­˜åœ¨å‡ ç§çš„è¯ï¼Œé‚£ä¹ˆæ‰§è¡Œçš„é¡ºåºä¾¿æ˜¯ï¼š~/.bash_profileã€ ~/.bash_loginã€ ~/.profileã€‚æ¯”å¦‚ Ubuntu ç³»ç»Ÿä¸€èˆ¬æ˜¯ ~/.profile æ–‡ä»¶ã€‚
- ~/.bashrc: åªå¯¹å•ä¸ªç”¨æˆ·ç”Ÿæ•ˆï¼Œå½“ç™»å½•ä»¥åŠæ¯æ¬¡æ‰“å¼€æ–°çš„ shell æ—¶ï¼Œè¯¥æ–‡ä»¶è¢«è¯»å–ã€‚

**bash è®¾ç½®ç¯å¢ƒå˜é‡**
```bash
echo $PATH  						# æŸ¥çœ‹ç¯å¢ƒå˜é‡
```

- ä¸€æ¬¡æ€§æ·»åŠ (å…³é—­ç»ˆç«¯å¤±æ•ˆ)
	```bash
	PATH=$PATH:/usr/local/python3/bin/
	```

- æ°¸ä¹…ä¿®æ”¹å˜é‡(é‡å¯åç”Ÿæ•ˆ)
	```diff
	vim ~/.bash_profile		åœ¨ Ubuntu æ²¡æœ‰æ­¤æ–‡ä»¶ï¼Œä¸ä¹‹å¯¹åº”çš„æ˜¯ /etc/bash.bashrc

	++ PATH=$PATH:/usr/local/bin/
	```
	```bash
	source ~/.bash_profile # ç«‹å³ç”Ÿæ•ˆ
	```

**fish è®¾ç½®ç¯å¢ƒå˜é‡**
```vim
vim ~/.config/fish/config.fish

set PATH (ä½ æƒ³è¦åŠ å…¥çš„è·¯å¾„) $PATH
```
```bash
souce ~/.config/fish/config.fish
```

---

## ç¬¦å·

**åŸºæœ¬ç¬¦å·**
```bash
<				# é‡å®šå‘è¾“å…¥
>				# é‡å®šå‘è¾“å‡º
>>				# æœ«å°¾æ·»åŠ 
&				# ä¸
|				# ç®¡é“ç¬¦
```

```bash
*				# åŒ¹é…ä»»æ„å¤šä¸ªå­—ç¬¦
	*.txt       	# åŒ¹é…å…¨éƒ¨åç¼€ä¸º .txt çš„æ–‡ä»¶

# * è¿™ä¸ªé€šé…ç¬¦ä»£è¡¨ä¸ä»¥ç‚¹ â€œ.â€ å¼€å¤´çš„æ‰€æœ‰æ–‡ä»¶ã€‚ä»¥ â€œ.â€ å¼€å¤´çš„æ–‡ä»¶é»˜è®¤å±äº Linux ä¸‹çš„éšè—æ–‡ä»¶ã€‚
# å› æ­¤ï¼Œä¸ä¼šåˆ é™¤ç›®å½•ä¸‹ä»¥ . å¼€å¤´çš„éšè—æ–‡ä»¶ï¼Œä»¥åŠ . å’Œ .. ä¸¤ä¸ªç›®å½•ã€‚ä½†æ˜¯åœ¨é€’å½’æ“ä½œæ—¶ï¼Œä¼šé€’å½’åœ°åˆ é™¤å­ç›®å½•ä¸‹é™¤äº† . å’Œ .. ç›®å½•ä¹‹å¤–çš„æ‰€ä»¥æ–‡ä»¶å’Œå­ç›®å½•â€”â€”æ— è®ºæ˜¯å¦ä»¥ . å¼€å¤´â€”â€”å› ä¸ºé€’å½’æ“ä½œä¸æ˜¯ç”± Bash ç­‰ shell è¿›è¡Œé€šé…å±•å¼€çš„ã€‚
# è‡³äºä¸ºä»€ä¹ˆä¸åœ¨åˆ é™¤ç›®å½•ä¸‹çš„å†…å®¹æ—¶ä¹Ÿå°† . å’Œ .. ä¸€è§†åŒä»ï¼Ÿå› ä¸ºè‡ªä» 1979 å¹´ rm å‘½ä»¤å¼€å§‹æœ‰åˆ é™¤ç›®å½•çš„èƒ½åŠ›æ—¶ï¼Œå°±ä¸“é—¨é¿å¼€äº†è¿™ä¸¤ä¸ªç‰¹æ®Šç›®å½•ã€‚

**				# åŒ¹é…ä»»æ„çº§åˆ«ç›®å½•(bash 4.0ä»¥ä¸Šç‰ˆæœ¬æ”¯æŒï¼Œshopt -s globstar)
	/etc/**/*.conf  # æŸ¥æ‰¾ /etc/ ä¸‹æ‰€æœ‰ .conf æ–‡ä»¶
?				# åŒ¹é…å•ä¸ªå­—ç¬¦
	file?.log		# åŒ¹é… file1.log, file2.log, ...
[]				# åŒ¹é…ä¸€ä¸ªå•å­—ç¬¦èŒƒå›´,å¦‚[a-z],[0-9]
	[a-z]*.log  	# åŒ¹é… a-z å¼€å¤´çš„ .log æ–‡ä»¶

# åæ–œæ (\)æˆ–å¼•å·(', ")éƒ½ä¼šä½¿é€šé…ç¬¦å¤±æ•ˆã€‚
```

- grep
	```bash
	# æ–‡æœ¬æœç´¢å·¥å…·,å®ƒèƒ½ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æœç´¢æ–‡æœ¬,å¹¶æŠŠåŒ¹é…çš„è¡Œæ‰“å°å‡ºæ¥.

	# é€‰é¡¹é‡Šä¹‰
		# -a ï¼š å°† binary æ–‡ä»¶ä»¥ text æ–‡ä»¶çš„æ–¹å¼è¿›è¡Œæœå¯»
		# -c ï¼š è®¡ç®—æ‰¾åˆ°ä¸ªæ•°
		# -i ï¼š å¿½ç•¥å¤§å°å†™
		# -n ï¼š è¾“å‡ºè¡Œå·
		# -v ï¼š åå‘é€‰æ‹©ï¼Œäº¦å³æ˜¾ç¤ºå‡ºæ²¡æœ‰ æœå¯»å­—ç¬¦ä¸² å†…å®¹çš„é‚£ä¸€è¡Œ
		# --color=auto ï¼šæ‰¾åˆ°çš„å…³é”®å­—åŠ é¢œè‰²æ˜¾ç¤º

	# e.g.
	grep John /etc/passwd		# åœ¨ /etc/passwd æ–‡ä»¶ä¸­æŸ¥æ‰¾æ–‡æœ¬ John å¹¶æ˜¾ç¤ºæ‰€æœ‰åŒ¹é…çš„è¡Œ
	grep -i john /etc/passwd	# å¿½ç•¥å¤§å°å†™
	grep -ri john /home/users 	# é€’å½’æœç´¢ç›®å½•ä¸­çš„åŒ¹é…æ–‡æœ¬
	```

- awk
	```bash
	# å¯ä»¥æ ¹æ®å­—æ®µçš„æŸäº›æ¡ä»¶è¿›è¡ŒåŒ¹é…ï¼Œä¾‹å¦‚åŒ¹é…å­—æ®µå°äºæŸä¸ªå€¼çš„é‚£ä¸€è¡Œæ•°æ®ã€‚
	awk 'æ¡ä»¶ç±»å‹ 1 {åŠ¨ä½œ 1} æ¡ä»¶ç±»å‹ 2 {åŠ¨ä½œ 2} ...' filename
	# awk æ¯æ¬¡å¤„ç†ä¸€è¡Œï¼Œå¤„ç†çš„æœ€å°å•ä½æ˜¯å­—æ®µï¼Œæ¯ä¸ªå­—æ®µçš„å‘½åæ–¹å¼ä¸ºï¼š\$nï¼Œn ä¸ºå­—æ®µå·ï¼Œä» 1 å¼€å§‹ï¼Œ\$0 è¡¨ç¤ºä¸€æ•´è¡Œã€‚

	# e.g.
	cat /proc/cpuinfo | grep name | awk '{print $3}'		# æŸ¥è¯¢ cpuinfo ä¿¡æ¯åˆå¹¶è¾“å…¥ç¬¬ 3 åˆ—
	```

- cut
	```bash
	# å‰ªåˆ‡å‘½ä»¤å¯ç”¨äºä»…æ˜¾ç¤ºæ–‡æœ¬æ–‡ä»¶æˆ–å…¶ä»–å‘½ä»¤è¾“å‡ºä¸­çš„ç‰¹å®šåˆ—

	# e.g.
	cut -d: -f 1,3 names.txt	# æ˜¾ç¤ºå†’å·åˆ†éš”æ–‡ä»¶ä¸­çš„ç¬¬ä¸€å’Œç¬¬ä¸‰å­—æ®µ
	cut -c 1-8 names.txt		# ä»…æ˜¾ç¤ºæ–‡ä»¶ä¸­æ¯è¡Œçš„å‰ 8 ä¸ªå­—ç¬¦
	cut -d: -f1 /etc/passwd		# æ˜¾ç¤ºç³»ç»Ÿä¸­æ‰€æœ‰ç”¨æˆ·çš„ UNIX ç™»å½•å
	```

- uniq
	```bash
	# ç”¨äºæŠ¥å‘Šæˆ–å¿½ç•¥æ–‡ä»¶ä¸­çš„é‡å¤è¡Œ

	# e.g.
	sort namesd.txt | uniq		# ä½¿ç”¨ uniq å‘½ä»¤ä»æ–‡ä»¶ä¸­åˆ é™¤é‡å¤é¡¹
	sort namesd.txt | uniq -c	# ä½¿ç”¨ Uniq æ˜¾ç¤ºé‡å¤çš„è¡Œæ•°
	sort namesd.txt | uniq -cd	# ä½¿ç”¨ Uniq ä»…æ˜¾ç¤ºé‡å¤çš„è¡Œ
	grep name /proc/cpuinfo | uniq	# æŸ¥è¯¢ cpuinfo ä¿¡æ¯åˆå¹¶æˆä¸€æ¡
	cat /proc/cpuinfo | grep name |cut -f2 -d ":" | uniq		# æŸ¥è¯¢ cpuinfo ä¿¡æ¯åˆå¹¶æˆä¸€æ¡å¹¶åªè¾“å‡º: åçš„å†…å®¹
	```

- sort
	```bash
	# å°†æ–‡ä»¶è¿›è¡Œæ’åº,å¹¶å°†æ’åºç»“æœæ ‡å‡†è¾“å‡º.

	# e.g.
	sort names.txt		# ä»¥å‡åºå¯¹æ–‡æœ¬æ–‡ä»¶è¿›è¡Œæ’åº
	sort -r names.txt	# ä»¥é™åºå¯¹æ–‡æœ¬æ–‡ä»¶è¿›è¡Œæ’åº
	sort -t: -k 3n /etc/passwd | more	# æŒ‰ç¬¬ 3 ä¸ªå­—æ®µï¼ˆæ•°å­—ç”¨æˆ· IDï¼‰å¯¹ passwd æ–‡ä»¶è¿›è¡Œæ’åº
	sort -t . -k 1,1n -k 2,2n -k 3,3n -k 4,4n /etc/hosts	# æŒ‰ IP åœ°å€å¯¹ /etc/hosts æ–‡ä»¶è¿›è¡Œæ’åº
	```

- xargs
	```bash
	# æ¥æ”¶å‘½ä»¤çš„è¾“å‡ºå¹¶å°†å…¶ä½œä¸ºå¦ä¸€ä¸ªå‘½ä»¤çš„å‚æ•°ä¼ é€’

	# e.g.
	find ~ -name '*.tmp' -print0 | xargs -0 rm -f	# å°è¯•ä½¿ç”¨ rm åˆ é™¤æ‰€æœ‰ tmp æ–‡ä»¶
	find /etc -name "*.conf" | xargs ls -l			# è·å– /etc/ ä¸‹æ‰€æœ‰ *.conf æ–‡ä»¶çš„åˆ—è¡¨
	cat url-list.txt | xargs wget -c				# å¦‚æœéœ€è¦ä»æ–‡ä»¶è¯»å–è¦ä¸‹è½½çš„ URL åˆ—è¡¨
	find / -name *.jpg -type f -print | xargs tar -cvzf images.tar.gz	# æ‰¾å‡ºæ‰€æœ‰ jpg å›¾åƒå¹¶å°†å…¶å­˜æ¡£
	ls *.jpg | xargs -n1 -i cp {} /external-hard-drive/directory 		# å°†æ‰€æœ‰å›¾åƒå¤åˆ¶åˆ°å¤–éƒ¨ç¡¬ç›˜é©±åŠ¨å™¨
	```

- tee
	```bash
	# tee å‘½ä»¤ç”¨äºå­˜å‚¨å’ŒæŸ¥çœ‹ï¼ˆåŒæ—¶ï¼‰ä»»ä½•å…¶ä»–å‘½ä»¤çš„è¾“å‡º,é»˜è®¤ä¸‹è¾“å‡ºå°†è¦†ç›–åŸæ–‡ä»¶

	# e.g.
	ls | tee file 				# å°†è¾“å‡ºæ—¢å†™å…¥å±å¹•ï¼ˆstdoutï¼‰ï¼Œåˆå†™å…¥æ–‡ä»¶
	ls | tee file1 file2 file3	# è¾“å‡ºå†™å…¥å¤šä¸ªæ–‡ä»¶
	ls | tee -a file			# è¿½åŠ è€Œä¸æ˜¯è¦†ç›–
	crontab -l | tee crontab-backup.txt | sed 's/old/new/' | crontab -	# å¯¹ crontab æ¡ç›®è¿›è¡Œå¤‡ä»½ï¼Œå¹¶å°† crontab æ¡ç›®ä½œä¸º sed å‘½ä»¤çš„è¾“å…¥ï¼Œç”± sed å‘½ä»¤è¿›è¡Œæ›¿æ¢ã€‚æ›¿æ¢åï¼Œå®ƒå°†è¢«æ·»åŠ ä¸ºä¸€ä¸ªæ–°çš„cronä½œä¸šã€‚
	```

- paste
	```bash
	# paste å¯ä»¥å°†ä¸¤ä¸ªä¸åŒçš„æ–‡ä»¶åˆå¹¶åˆ°ä¸€ä¸ªå¤šåˆ—æ–‡ä»¶ä¸­ã€‚
	paste aaa.txt bbb.txt
	```

- fold
	```bash
	# é™åˆ¶è¾“å‡ºçš„é•¿åº¦
	cat /etc/passwd | fold -w 16
	```

---

## ä¼šè¯

**æ¸…å±**
```bash
clear		# åˆ·æ–°å±å¹•ï¼Œæœ¬è´¨ä¸Šåªæ˜¯è®©ç»ˆç«¯æ˜¾ç¤ºé¡µå‘åç¿»äº†ä¸€é¡µï¼Œå¦‚æœå‘ä¸Šæ»šåŠ¨å±å¹•è¿˜å¯ä»¥çœ‹åˆ°ä¹‹å‰çš„æ“ä½œä¿¡æ¯
reset		# å®Œå…¨åˆ·æ–°ç»ˆç«¯å±å¹•
printf "\033c"
```

**æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯**
```bash
id
who			# æ˜¾ç¤ºç›®å‰ç™»å½•ç³»ç»Ÿçš„ç”¨æˆ·ä¿¡æ¯.
w			# æ˜¾ç¤ºå·²ç»ç™»å½•ç³»ç»Ÿçš„ç”¨æˆ·åˆ—è¡¨,å¹¶æ˜¾ç¤ºç”¨æˆ·æ­£åœ¨æ‰§è¡Œçš„æŒ‡ä»¤.
last		# æ˜¾ç¤ºç”¨æˆ·æœ€è¿‘ç™»å½•ä¿¡æ¯
```

**å¿«æ·é”®**
```bash
Ctrl+S		# ç»ˆæ­¢æ˜¾ç¤ºçš„ä¿¡å·/æŒ‡ä»¤
Ctrl+Q		# æ¢å¤æ˜¾ç¤ºçš„ä¿¡å·/æŒ‡ä»¤
Ctrl+R		# æœç´¢å†å²å‘½ä»¤
Ctrl+P		# åˆ‡æ¢ä¸Šä¸€ä¸ªå‘½ä»¤
alt+F1-F6	# åˆ‡æ¢è™šæ‹Ÿæ§åˆ¶å°
Alt+F7		# å›¾å½¢ç•Œé¢
Ctrl+L		# æ¸…é™¤å‘½ä»¤
```

**screen**

screen æ˜¯ä¸€ä¸ªä¼šè¯ç®¡ç†è½¯ä»¶ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡è¯¥è½¯ä»¶åŒæ—¶è¿æ¥å¤šä¸ªæœ¬åœ°æˆ–è¿œç¨‹çš„å‘½ä»¤è¡Œä¼šè¯ï¼Œå¹¶åœ¨å…¶é—´è‡ªç”±åˆ‡æ¢ã€‚
```bash
# RedHat ç³»å®‰è£…
	yum -y install screen

# Debian ç³»å®‰è£…
	apt-get -y install screen

screen -S <name>
screen -ls
screen -r <name>	# é‡æ–°è¿æ¥
ctrl+d				# ç»ˆæ­¢ä¼šè¯
```

### å†å²è®°å½•

**æŸ¥çœ‹å†å²è®°å½•**
```bash
cat ~/.bash_history
cat ~/.nano_history
cat ~/.atftp_history
cat ~/.mysql_history
cat ~/.php_history
```

**æ¸…é™¤å†å²è®°å½•**
```bash
history -c
```

**centos ä¸‹æ›´æ”¹å†å²è®°å½•æ–‡ä»¶å**
```bash
vim ~/.bash_profile

HISTFILE=/root/.his
```

**Ubuntu ä¸‹é…ç½®ä¸è®°å½• history æ–¹æ³•**
```bash
vim ~/.bashrc

# å¯é€‰é…ç½®å¦‚ä¸‹ï¼š
HISTCONTROL=ignoredups		# å¿½ç•¥è¿ç»­é‡å¤çš„å‘½ä»¤ã€‚
HISTCONTROL=ignorespace		# å¿½ç•¥ä»¥ç©ºç™½å­—ç¬¦å¼€å¤´çš„å‘½ä»¤ã€‚
HISTCONTROL=ignoreboth		# åŒæ—¶å¿½ç•¥ä»¥ä¸Šä¸¤ç§ã€‚
HISTCONTROL=erasedups		# å¿½ç•¥æ‰€æœ‰å†å²å‘½ä»¤ä¸­çš„é‡å¤å‘½ä»¤ã€‚
```

---

## æ–‡ä»¶å’Œç›®å½•

**ç›®å½•**

```bash
cd	# åˆ‡æ¢å·¥ä½œç›®å½•
~	# è¡¨ç¤º home ç›®å½•
.	# è¡¨ç¤ºå½“å‰ç›®å½•
..	# è¡¨ç¤ºä¸Šçº§ç›®å½•
-	# è¡¨ç¤ºä¸Šä¸€æ¬¡ç›®å½•

/	# è¡¨ç¤ºæ ¹ç›®å½•
	root	# è¶…çº§ç”¨æˆ·ç›®å½•,å­˜æ”¾ root ç”¨æˆ·ç›¸å…³æ–‡ä»¶
	home	# å­˜æ”¾æ™®é€šç”¨æˆ·ç›¸å…³æ–‡ä»¶
	bin		# (binaries)å­˜æ”¾äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶
	sbin	# (super user binaries)å­˜æ”¾äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶,åªæœ‰ root æ‰èƒ½è®¿é—®
	mnt		# (mount)ç³»ç»Ÿç®¡ç†å‘˜å®‰è£…ä¸´æ—¶æ–‡ä»¶ç³»ç»Ÿçš„å®‰è£…ç‚¹
	etc		# (etcetera)å­˜æ”¾ç³»ç»Ÿé…ç½®æ–‡ä»¶
	var		# (variable)ç”¨äºå­˜æ”¾è¿è¡Œæ—¶éœ€è¦æ”¹å˜æ•°æ®çš„æ–‡ä»¶
	boot	# å­˜æ”¾ç”¨äºç³»ç»Ÿå¼•å¯¼æ—¶ä½¿ç”¨çš„å„ç§æ–‡ä»¶
	usr		# (unix shared resources)ç”¨äºå­˜æ”¾å…±äº«çš„ç³»ç»Ÿèµ„æº
	dev		# (devices)ç”¨äºå­˜æ”¾è®¾å¤‡æ–‡ä»¶
	lib		# (library)å­˜æ”¾è·Ÿæ–‡ä»¶ç³»ç»Ÿä¸­çš„ç¨‹åºè¿è¡Œæ‰€éœ€è¦çš„å…±äº«åº“åŠå†…æ ¸æ¨¡å—
	tmp		# (temporary)ç”¨äºå­˜æ”¾å„ç§ä¸´æ—¶æ–‡ä»¶
```
æ›´å¤šå†…å®¹å‚è€ƒç¬”è®° [æ–‡ä»¶](./ç¬”è®°/æ–‡ä»¶.md#ç›®å½•ç»“æ„)

### æŸ¥çœ‹

**ç›®å½•ã€æ–‡ä»¶ä¿¡æ¯**
```bash
ls			# æŸ¥çœ‹ç›®å½•ä¸‹æ–‡ä»¶
	ls -a						# æŸ¥çœ‹ç›®å½•éšè—æ–‡ä»¶

pwd			# ä»¥ç»å¯¹è·¯å¾„çš„æ–¹å¼æ˜¾ç¤ºç”¨æˆ·å½“å‰å·¥ä½œç›®å½•
	pwd -P						# ç›®å½•é“¾æ¥æ—¶,æ˜¾ç¤ºå®é™…è·¯å¾„è€Œé link è·¯å¾„

wc			# wc å°†è®¡ç®—æŒ‡å®šæ–‡ä»¶çš„è¡Œæ•°ã€å­—æ•°ï¼Œä»¥åŠå­—èŠ‚æ•°
du			# æŸ¥çœ‹æ–‡ä»¶å¤§å°
stat		# æŸ¥çœ‹æ–‡ä»¶å±æ€§
file		# æ¢æµ‹ç»™å®šæ–‡ä»¶çš„ç±»å‹
	file xxx.log
```

**æ–‡ä»¶å†…å®¹**
```bash
cat			# è¿æ¥æ–‡ä»¶å¹¶æ‰“å°åˆ°æ ‡å‡†è¾“å‡ºè®¾å¤‡ä¸Š
	cat -n						# å¸¦è¡Œå·è¯»
	cat -b						# å¸¦è¡Œå·,è¶Šè¿‡ç©ºç™½è¡Œ

more		# ä¸€ä¸ªåŸºäº vi ç¼–è¾‘å™¨æ–‡æœ¬è¿‡æ»¤å™¨ï¼Œå®ƒä»¥å…¨å±å¹•çš„æ–¹å¼æŒ‰é¡µæ˜¾ç¤ºæ–‡æœ¬æ–‡ä»¶çš„å†…å®¹
	more +10 a.txt				# ä»ç¬¬10è¡Œè¯»èµ·
	more -10 f1.txt				# æ¯æ¬¡æ˜¾ç¤º10è¡Œè¯»å–æ–‡ä»¶

head		# ç”¨äºæ˜¾ç¤ºæ–‡ä»¶çš„å¼€å¤´çš„å†…å®¹,é»˜è®¤æƒ…å†µä¸‹æ˜¾ç¤ºæ–‡ä»¶çš„å¤´10è¡Œå†…å®¹
	head -n 1 a.txt				# è¯»æ–‡ä»¶ç¬¬ä¸€è¡Œ
	head -5 /etc/passwd			# è¯»å–æ–‡ä»¶å‰5è¡Œ

tail		# ç”¨äºæ˜¾ç¤ºæ–‡ä»¶çš„å°¾éƒ¨çš„å†…å®¹,é»˜è®¤æƒ…å†µä¸‹æ˜¾ç¤ºæ–‡ä»¶çš„å°¾éƒ¨10è¡Œå†…å®¹
	tail -10 /etc/passwd		# è¯»å–æ–‡ä»¶å10è¡Œ

sed			# ä¸€ç§æµç¼–è¾‘å™¨ï¼Œå®ƒæ˜¯æ–‡æœ¬å¤„ç†ä¸­éå¸¸ä¸­çš„å·¥å…·ï¼Œèƒ½å¤Ÿå®Œç¾çš„é…åˆæ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨
	sed -n '5,10p' /etc/passwd	# è¯»å–æ–‡ä»¶ç¬¬5-10è¡Œ
	sed '/^$/d' test.txt		# åˆ é™¤æ–‡ä»¶ç©ºè¡Œ

tac			# æ˜¯ cat çš„åå‘æ“ä½œï¼Œä»æœ€åä¸€è¡Œå¼€å§‹æ‰“å°
less		# å…è®¸ç”¨æˆ·å‘å‰æˆ–å‘åæµè§ˆæ–‡ä»¶

nl			# ç”¨æ¥åœ¨ linux ç³»ç»Ÿä¸­æ‰“å°æ–‡ä»¶ä¸­è¡Œå·
	nl /etc/passwd
	nl -b a /etc/passwd		# ç©ºè¡Œä¹ŸåŠ ä¸Šè¡Œå·
```

**äºŒè¿›åˆ¶ç›¸å…³**
```bash
objdump		# æ˜¾ç¤ºç›®æ ‡æ–‡ä»¶çš„ä¿¡æ¯,å¯ä»¥é€šè¿‡å‚æ•°æ§åˆ¶è¦æ˜¾ç¤ºçš„å†…å®¹
	objdump -p 					# æ˜¾ç¤ºæ–‡ä»¶å¤´å†…å®¹
	objdump -T					# æŸ¥çœ‹åŠ¨æ€ç¬¦å·è¡¨çš„å†…å®¹

od			# ä»¥å­—ç¬¦æˆ–è€…åå…­è¿›åˆ¶çš„å½¢å¼æ˜¾ç¤ºäºŒè¿›åˆ¶æ–‡ä»¶
	od -c test.txt
	od -b test.txt

strings		# åœ¨å¯¹è±¡æ–‡ä»¶æˆ–äºŒè¿›åˆ¶æ–‡ä»¶ä¸­æŸ¥æ‰¾å¯æ‰“å°çš„å­—ç¬¦ä¸²
	strings start.bin | grep -a "pass"
	strings .* | grep -a "root"
	strings -o start.bin 		# è·å–æ‰€æœ‰ ASCII å­—ç¬¦åç§»

ldd			# å¯ä»¥æ˜¾ç¤ºç¨‹åºæˆ–è€…å…±äº«åº“æ‰€éœ€çš„å…±äº«åº“
	ldd /bin/cat

nm			# æ˜¾ç¤ºç›®æ ‡æ–‡ä»¶çš„ç¬¦å·
	# -Aï¼šæ¯ä¸ªç¬¦å·å‰æ˜¾ç¤ºæ–‡ä»¶åï¼›
	# -Dï¼šæ˜¾ç¤ºåŠ¨æ€ç¬¦å·ï¼›
	# -gï¼šä»…æ˜¾ç¤ºå¤–éƒ¨ç¬¦å·ï¼›
	# -rï¼šååºæ˜¾ç¤ºç¬¦å·è¡¨ã€‚
```

### åˆ›å»º

- touch
	```bash
	# åˆ›å»ºæ–‡ä»¶
	touch -r test1.txt test2.txt 		# æ›´æ–° test2.txt æ—¶é—´æˆ³ä¸ test1.txt æ—¶é—´æˆ³ç›¸åŒ
	touch -c -t 202510191820 a.txt 		# æ›´æ”¹æ—¶é—´
	```

- truncate
	```bash
	# åˆ›å»ºæŒ‡å®šå¤§å°æ–‡ä»¶
	truncate -s 100k aaa.txt

- mkdir
	```bash
	# åˆ›å»ºæ–‡ä»¶å¤¹
	mkdir -p /test						# è‹¥ test ç›®å½•åŸæœ¬ä¸å­˜åœ¨ï¼Œåˆ™å»ºç«‹ä¸€ä¸ª
	mkdir -p /mnt/aaa/aaa/aaa 			# åˆ›å»ºæŒ‡å®šè·¯å¾„ä¸€ç³»åˆ—æ–‡ä»¶å¤¹
	mkdir -m 777 /test					# åˆ›å»ºæ—¶æŒ‡å®šæƒé™
	```

### åˆ é™¤

- rm
	```bash
	# åˆ é™¤æ–‡ä»¶å’Œç›®å½•çš„å‘½ä»¤
	rm [options] <filename>

	# é€‰é¡¹é‡Šä¹‰
	-r		# é€’å½’ï¼Œå¯¹ç›®å½•åŠå…¶ä¸‹çš„å†…å®¹è¿›è¡Œé€’å½’æ“ä½œ
	-f		# å¼ºåˆ¶åˆ é™¤,æ— éœ€ç¡®è®¤æ“ä½œ
	-i		# ç¡®è®¤
	-v		# è¯¦ç»†æ˜¾ç¤ºè¿›è¡Œçš„æ­¥éª¤
	```

	rm å‘½ä»¤æœ‰ä¸€å¯¹ä¸“é—¨é’ˆå¯¹æ ¹ç›®å½•çš„é€‰é¡¹ `--preserve-root` å’Œ `--no-preserve-root`
	- `--preserve-root`ï¼šä¿æŠ¤æ ¹ç›®å½•ï¼Œè¿™æ˜¯é»˜è®¤è¡Œä¸ºã€‚
	- `--no-preserve-root`ï¼šä¸ä¿æŠ¤æ ¹ç›®å½•ã€‚
	è¿™å¯¹é€‰é¡¹æ˜¯åæ¥æ·»åŠ åˆ° rm å‘½ä»¤çš„ã€‚å¯èƒ½å‡ ä¹æ¯ä¸ªç³»ç»Ÿç®¡ç†å‘˜éƒ½çŠ¯è¿‡æ“ä½œé”™è¯¯ï¼Œè€Œè¿™å…¶ä¸­åˆ é™¤è¿‡æ ¹ç›®å½•çš„æ¯”æ¯”çš†æ˜¯

	é‚£ä¸ºä»€ä¹ˆè¿˜ä¼šä¸“é—¨å‡ºç° --no-preserve-root é€‰é¡¹å‘¢ï¼Ÿè¿™å¯èƒ½ä¸»è¦æ˜¯å‡ºäº UNIX å“²å­¦çš„è€ƒè™‘ï¼Œç»™äºˆä½ æƒ³è¦çš„ä¸€åˆ‡æƒåŠ›ï¼ŒçŠ¯å‚»æ˜¯ä½ çš„äº‹æƒ…ï¼Œè€Œä¸æ˜¯æ“ä½œç³»ç»Ÿçš„äº‹æƒ…ã€‚ä¸‡ä¸€ï¼Œä½ çœŸçš„æƒ³åˆ é™¤æ ¹ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å‘¢ï¼Ÿ

- rmdir
	```bash
	# åˆ é™¤ç©ºç›®å½•
	rmdir
	```

**åˆ é™¤å·¨å¤§æ–‡ä»¶çš„æŠ€å·§**
```bash
echo "" >  bigfile
rm bigfile

> access.log			# é€šè¿‡é‡å®šå‘åˆ° Null æ¥æ¸…ç©ºæ–‡ä»¶å†…å®¹
: > access.log
true > access.log
cat /dev/null > access.log
```

### æœç´¢

**æœç´¢å‘½ä»¤**
```bash
which <Command>		# æŒ‡ä»¤æœç´¢,æŸ¥æ‰¾å¹¶æ˜¾ç¤ºç»™å®šå‘½ä»¤çš„ç»å¯¹è·¯å¾„
```

**æœç´¢æ–‡ä»¶**

- find
	```bash
	# ç”¨äºåŸºäºå¤šç§æ¡ä»¶åœ¨UNIXæ–‡ä»¶ç³»ç»Ÿä¸­æŸ¥æ‰¾æ–‡ä»¶çš„å¸¸ç”¨å‘½ä»¤

	# e.g.
	find / -name conf*	# æŸ¥æ‰¾æ ¹ç›®å½•åŠå­ç›®å½•ä¸‹æ‰€æœ‰ conf æ–‡ä»¶
	find / -name site-packages -d	# æŸ¥æ‰¾ site-packages ç›®å½•
	find . -mtime -2				# æŸ¥æ‰¾æœ€è¿‘ä¸¤å¤©åœ¨å½“å‰ç›®å½•ä¸‹ä¿®æ”¹è¿‡çš„æ‰€æœ‰æ–‡ä»¶
	find / -type f -size + 100M		# åˆ—å‡ºç³»ç»Ÿä¸­å¤§äº100MBçš„æ‰€æœ‰æ–‡ä»¶
	```

- locate
	```bash
	# æŸ¥æ‰¾æ–‡ä»¶æˆ–ç›®å½•
	locate <File>
	```

- fd
	```bash
	# æ–‡ä»¶æŸ¥æ‰¾å·¥å…·
	wget https://github.com/sharkdp/fd/releases/download/v7.3.0/fd-musl_7.3.0_amd64.deb
	dpkg -i fd-musl_7.3.0_amd64.deb
	fd <File>
	```

- fzf
	```bash
	git clone --depth 1 https://github.com/junegunn/fzf.git ~/.fzf
	~/.fzf/install
	fzf
	```

**æ‰¾å‡ºé‡å¤æ–‡ä»¶**

- jdupes
	- https://github.com/jbruchon/jdupes
	```bash
	git clone https://github.com/jbruchon/jdupes
	cd jdupes
	make
	./jdupes -r /home	# é€’å½’æ‰«æç›®å½•,åŒ…æ‹¬å­ç›®å½•
	./jdupes -dr /home	# æŒ¨ä¸ªç¡®è®¤åˆ é™¤
	```

- rdfind
	```bash
	yum install -y epel-release && yum install -y rdfind
	# æˆ–
	apt-get install -y rdfind

	rdfind -dryrun true /home			# ç»“æœä¼šä¿å­˜åœ¨ results.txt æ–‡ä»¶ä¸­
	rdfind -deleteduplicates true /home	# åˆ é™¤
	```

- fdupes
	```bash
	yum install -y epel-release && yum install -y fdupes
	# æˆ–
	apt install -y fdupes

	fdupes /home
	fdupes -r /			# é€’å½’æ‰«æç›®å½•,åŒ…æ‹¬å­ç›®å½•
	fdupes -rd /		# åˆ é™¤é‡å¤å†…å®¹
	```

- fslint
	```bash
	# fslint å‘½ä»¤å¯ä»¥è¢«ç‰¹åœ°ç”¨æ¥å¯»æ‰¾é‡å¤æ–‡ä»¶
	fslint .
	```

**lsof**

> å¯ä»¥ä½¿ç”¨ lsof å‘½ä»¤æ¥äº†è§£æŸäººæ˜¯å¦æ­£åœ¨ä½¿ç”¨æ–‡ä»¶

```bash
lsof /dev/null			# Linux ä¸­æ‰€æœ‰å·²æ‰“å¼€æ–‡ä»¶çš„åˆ—è¡¨
lsof -u root			# root æ‰“å¼€çš„æ–‡ä»¶åˆ—è¡¨
lsof -i TCP:22			# æ‰¾å‡ºè¿›ç¨‹ç›‘å¬ç«¯å£
```

### ä¿®æ”¹

**å¤åˆ¶**
```bash
cp <æºæ–‡ä»¶> <ç›®æ ‡æ–‡ä»¶/ç›®æ ‡è·¯å¾„>			# å¤åˆ¶
	cp -r <æºç›®å½•> <ç›®æ ‡ç›®å½•/ç›®æ ‡è·¯å¾„>	# å¸¦ç›®å½•å¤åˆ¶
```

**ç§»åŠ¨**
```bash
mv <æºæ–‡ä»¶> <ç›®æ ‡æ–‡ä»¶/ç›®æ ‡è·¯å¾„>			# å¯¹æ–‡ä»¶æˆ–ç›®å½•é‡å‘½å,æˆ–ç§»åŠ¨
```

**ç¼–è¾‘**
```bash
vi 									# ç¼–è¾‘å™¨
nano								# ç¼–è¾‘å™¨
gedit								# å›¾å½¢åŒ–çš„ç¼–è¾‘å™¨
```

**Vim**
- **å¸¸ç”¨æ“ä½œ**
	```bash
	Normal æ¨¡å¼ä¸‹ i è¿›å…¥ insert æ¨¡å¼
	:wq 					# å­˜ç›˜+é€€å‡º
	dd  					# åˆ é™¤å½“å‰è¡Œ,å¹¶å­˜å…¥å‰ªåˆ‡æ¿
	p   					# ç²˜è´´
	:q! 					# å¼ºåˆ¶é€€å‡º
	:wq!					# å¼ºåˆ¶ä¿å­˜é€€å‡º
	:w !sudo tee %  		# æ—  root æƒé™,ä¿å­˜ç¼–è¾‘çš„æ–‡ä»¶
	:saveas <path/to/file>  # å¦å­˜ä¸º
	æŒ‰ä¸‹ / å³å¯è¿›å…¥æŸ¥æ‰¾æ¨¡å¼,è¾“å…¥è¦æŸ¥æ‰¾çš„å­—ç¬¦ä¸²å¹¶æŒ‰ä¸‹å›è½¦. Vim ä¼šè·³è½¬åˆ°ç¬¬ä¸€ä¸ªåŒ¹é….æŒ‰ä¸‹ n æŸ¥æ‰¾ä¸‹ä¸€ä¸ª,æŒ‰ä¸‹ N æŸ¥æ‰¾ä¸Šä¸€ä¸ª.
	:%s/foo/bar 			# ä»£è¡¨æ›¿æ¢ foo ä¸º bar
	insert æ¨¡å¼æŒ‰ ESC é”®,è¿”å› Normal æ¨¡å¼
	```
- **æ›´å¤šæ“ä½œ**
	- [Vim](./Power-Linux.md#Vim)

**objcopy**

objcopy ç”¨äºå°† object çš„éƒ¨åˆ†æˆ–å…¨éƒ¨å†…å®¹æ‹·è´åˆ°å¦ä¸€ä¸ª objectï¼Œä»è€Œå¯ä»¥å®ç°æ ¼å¼çš„å˜æ¢ã€‚

objcopy å¯ç”¨ç”¨äºå°†æ–‡ä»¶è½¬æ¢æˆ S-record æ ¼å¼æˆ–è€… raw äºŒè¿›åˆ¶æ ¼å¼ã€‚

```bash
objcopy -O srec main main.srec								# å°†æ–‡ä»¶è½¬æ¢æˆ S-record æ ¼å¼
objcopy -O binary main main.bin    							# å°†æ–‡ä»¶è½¬æ¢æˆ rawbinary æ ¼å¼
objcopy -I binary -O binary --reverse-bytes=4 1.out 2.out	# è½¬æ¢ä¸ºå°ç«¯åº
```

**tr**

tr å‘½ä»¤å°†æ–‡ä»¶è½¬æ¢ä¸ºå…¨å¤§å†™
```bash
cat employee.txt

100 Jason Smith
200 John Doe
300 Sanjay Gupta
400 Ashok Sharma

tr a-z A-Z < employee.txt

100 JASON SMITH
200 JOHN DOE
300 SANJAY GUPTA
400 ASHOK SHARMA
```

### æ¯”è¾ƒ

- diff
	```bash
	diff [options] <file1> <file2>
		e.g. : diff -w name_list.txt name_list_new.txt
	```

- vimdiff
	```bash
	vimdiff <å˜åŠ¨å‰çš„æ–‡ä»¶> <å˜åŠ¨åçš„æ–‡ä»¶>
	```

- comm
	```bash
	comm [options] ... FILE1 FILE2

	# e.g.
	comm -12 1.txt 2.txt	# æŸ¥çœ‹ä¸¤ä¸ªæ–‡ä»¶å…±æœ‰çš„éƒ¨åˆ†
	comm -23 1.txt 2.txt	# ä»…æŸ¥çœ‹ file1 ä¸­æœ‰,file2 ä¸­æ²¡æœ‰çš„è¡Œ
	comm -13 1.txt 2.txt	# ä»…æŸ¥çœ‹ file2 ä¸­æœ‰,file1 ä¸­æ²¡æœ‰çš„è¡Œ
	```

### é“¾æ¥

**inode**

inode æ˜¯æŒ‡åœ¨è®¸å¤šâ€œç±» Unix æ–‡ä»¶ç³»ç»Ÿâ€ä¸­çš„ä¸€ç§æ•°æ®ç»“æ„ã€‚æ¯ä¸ª inode ä¿å­˜äº†æ–‡ä»¶ç³»ç»Ÿä¸­çš„ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿå¯¹è±¡ï¼ˆåŒ…æ‹¬æ–‡ä»¶ã€ç›®å½•ã€è®¾å¤‡æ–‡ä»¶ã€socketã€ç®¡é“, ç­‰ç­‰ï¼‰çš„å…ƒä¿¡æ¯æ•°æ®ï¼Œä½†ä¸åŒ…æ‹¬æ•°æ®å†…å®¹æˆ–è€…æ–‡ä»¶åã€‚

æ–‡ä»¶ç³»ç»Ÿä¸­æ¯ä¸ªâ€œæ–‡ä»¶ç³»ç»Ÿå¯¹è±¡â€å¯¹åº”ä¸€ä¸ªâ€œinodeâ€æ•°æ®ï¼Œå¹¶ç”¨ä¸€ä¸ªæ•´æ•°å€¼æ¥è¾¨è¯†ã€‚è¿™ä¸ªæ•´æ•°å¸¸è¢«ç§°ä¸º inode å·ç ï¼ˆâ€œi-numberâ€æˆ–â€œinode numberâ€ï¼‰ã€‚ç”±äºæ–‡ä»¶ç³»ç»Ÿçš„ inode è¡¨çš„å­˜å‚¨ä½ç½®ã€æ€»æ¡ç›®æ•°é‡éƒ½æ˜¯å›ºå®šçš„ï¼Œå› æ­¤å¯ä»¥ç”¨ inode å·ç å»ç´¢å¼•æŸ¥æ‰¾ inode è¡¨ã€‚

ç®€è€Œè¨€ä¹‹
- inode å­˜å‚¨çš„æ˜¯æ–‡ä»¶çš„å…ƒæ•°æ®
- inode æ˜¯æ–‡ä»¶åœ¨ç£ç›˜ä¸Šçš„ç´¢å¼•ç¼–å·
- inode æ˜¯æ–‡ä»¶çš„å”¯ä¸€æ ‡ç¤ºç¬¦(ä¸»é”®), è€Œéæ–‡ä»¶å

Linux ç³»ç»Ÿä¸­ï¼Œæ˜¾ç¤ºæ–‡ä»¶çš„ inode ä½¿ç”¨ `ls -i`ï¼Œä½¿ç”¨ `df -i` å¯ä»¥æ˜¾ç¤ºå½“å‰æŒ‚è½½åˆ—è¡¨ä¸­ inode ä½¿ç”¨æƒ…å†µ

**è½¯é“¾æ¥**

ç¬¦å·é“¾æ¥æ–‡ä»¶ä¿å­˜ç€æºæ–‡ä»¶æ‰€åœ¨çš„ç»å¯¹è·¯å¾„ï¼Œåœ¨è¯»å–æ—¶ä¼šå®šä½åˆ°æºæ–‡ä»¶ä¸Šï¼Œå¯ä»¥ç†è§£ä¸º Windows çš„å¿«æ·æ–¹å¼ã€‚

è½¯è¿æ¥æ˜¯ä¸€ç±»ç‰¹æ®Šçš„æ–‡ä»¶ï¼Œ å…¶åŒ…å«æœ‰ä¸€æ¡ä»¥ç»å¯¹è·¯å¾„æˆ–è€…ç›¸å¯¹è·¯å¾„çš„å½¢å¼æŒ‡å‘å…¶å®ƒæ–‡ä»¶æˆ–è€…ç›®å½•çš„å¼•ç”¨ã€‚ ç¬¦å·é“¾æ¥æœ€æ—©åœ¨ 4.2BSD ç‰ˆæœ¬ä¸­å‡ºç°ï¼ˆ1983å¹´ï¼‰ã€‚ä»Šå¤© POSIX æ“ä½œç³»ç»Ÿæ ‡å‡†ã€å¤§å¤šæ•°ç±» Unix ç³»ç»Ÿã€Windows Vistaã€Windows 7 éƒ½æ”¯æŒç¬¦å·é“¾æ¥ã€‚Windows 2000 ä¸ Windows XP åœ¨æŸç§ç¨‹åº¦ä¸Šä¹Ÿæ”¯æŒç¬¦å·é“¾æ¥ã€‚

ç¬¦å·é“¾æ¥çš„æ“ä½œæ˜¯é€æ˜çš„ï¼šå¯¹ç¬¦å·é“¾æ¥æ–‡ä»¶è¿›è¡Œè¯»å†™çš„ç¨‹åºä¼šè¡¨ç°å¾—ç›´æ¥å¯¹ç›®æ ‡æ–‡ä»¶è¿›è¡Œæ“ä½œã€‚æŸäº›éœ€è¦ç‰¹åˆ«å¤„ç†ç¬¦å·é“¾æ¥çš„ç¨‹åºï¼ˆå¦‚å¤‡ä»½ç¨‹åºï¼‰å¯èƒ½ä¼šè¯†åˆ«å¹¶ç›´æ¥å¯¹å…¶è¿›è¡Œæ“ä½œã€‚

ä¸€ä¸ªç¬¦å·é“¾æ¥æ–‡ä»¶ä»…åŒ…å«æœ‰ä¸€ä¸ªæ–‡æœ¬å­—ç¬¦ä¸²ï¼Œå…¶è¢«æ“ä½œç³»ç»Ÿè§£é‡Šä¸ºä¸€æ¡æŒ‡å‘å¦ä¸€ä¸ªæ–‡ä»¶æˆ–è€…ç›®å½•çš„è·¯å¾„ã€‚å®ƒæ˜¯ä¸€ä¸ªç‹¬ç«‹æ–‡ä»¶ï¼Œå…¶å­˜åœ¨å¹¶ä¸ä¾èµ–äºç›®æ ‡æ–‡ä»¶ã€‚å¦‚æœåˆ é™¤ä¸€ä¸ªç¬¦å·é“¾æ¥ï¼Œå®ƒæŒ‡å‘çš„ç›®æ ‡æ–‡ä»¶ä¸å—å½±å“ã€‚å¦‚æœç›®æ ‡æ–‡ä»¶è¢«ç§»åŠ¨ã€é‡å‘½åæˆ–è€…åˆ é™¤ï¼Œä»»ä½•æŒ‡å‘å®ƒçš„ç¬¦å·é“¾æ¥ä»ç„¶å­˜åœ¨ï¼Œä½†æ˜¯å®ƒä»¬å°†ä¼šæŒ‡å‘ä¸€ä¸ªä¸å¤å­˜åœ¨çš„æ–‡ä»¶ã€‚è¿™ç§æƒ…å†µè¢«æœ‰æ—¶è¢«ç§°ä¸ºè¢«é—å¼ƒã€‚

åœ¨ Linux ä¸­ï¼Œåˆ›å»ºè½¯è¿æ¥çš„æ–¹æ³•æ˜¯ä½¿ç”¨ `ln -s`
```bash
ln -s /etc/bashrc /tmp/bashrc
```
æŸ¥çœ‹è½¯è¿æ¥çš„æŒ‡å‘å¯ä»¥ç”¨ `ls -l`

åˆ é™¤è½¯è¿æ¥å°±å¦‚åŒåˆ é™¤æ™®é€šæ–‡ä»¶ä¸€æ ·ï¼Œä½¿ç”¨ `rm symlink` å³å¯ã€‚

- æŠ¥é”™ : Too many levels of symbolic links
	- åœ¨ä½¿ç”¨ ln -s å‘½ä»¤æ—¶ï¼Œä½¿ç”¨ç»å¯¹è·¯å¾„å–ä»£ç›¸å¯¹è·¯å¾„

**ç¡¬é“¾æ¥**

å®ƒå’Œæ™®é€šæ–‡ä»¶ç±»ä¼¼ï¼Œå®ä½“é“¾æ¥æ–‡ä»¶çš„ inode éƒ½æŒ‡å‘æºæ–‡ä»¶æ‰€åœ¨çš„ block ä¸Šï¼Œä¹Ÿå°±æ˜¯è¯´è¯»å–æ–‡ä»¶ç›´æ¥ä»æºæ–‡ä»¶çš„ block ä¸Šè¯»å–ã€‚

æŒ‡é€šè¿‡ç´¢å¼•èŠ‚ç‚¹æ¥è¿›è¡Œè¿æ¥ã€‚åœ¨ Linux çš„æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œä¿å­˜åœ¨ç£ç›˜åˆ†åŒºä¸­çš„æ–‡ä»¶ä¸ç®¡æ˜¯ä»€ä¹ˆç±»å‹éƒ½ç»™å®ƒåˆ†é…ä¸€ä¸ªç¼–å·ï¼Œç§°ä¸ºç´¢å¼•èŠ‚ç‚¹å·(Inode Index)ã€‚åœ¨ Linux ä¸­ï¼Œå¤šä¸ªæ–‡ä»¶åæŒ‡å‘åŒä¸€ç´¢å¼•èŠ‚ç‚¹æ˜¯å­˜åœ¨çš„ã€‚ä¸€èˆ¬è¿™ç§è¿æ¥å°±æ˜¯ç¡¬è¿æ¥ã€‚ç¡¬è¿æ¥çš„ä½œç”¨æ˜¯å…è®¸ä¸€ä¸ªæ–‡ä»¶æ‹¥æœ‰å¤šä¸ªæœ‰æ•ˆè·¯å¾„åï¼Œè¿™æ ·ç”¨æˆ·å°±å¯ä»¥å»ºç«‹ç¡¬è¿æ¥åˆ°é‡è¦æ–‡ä»¶ï¼Œä»¥é˜²æ­¢â€œè¯¯åˆ â€çš„åŠŸèƒ½ã€‚å…¶åŸå› å¦‚ä¸Šæ‰€è¿°ï¼Œå› ä¸ºå¯¹åº”è¯¥ç›®å½•çš„ç´¢å¼•èŠ‚ç‚¹æœ‰ä¸€ä¸ªä»¥ä¸Šçš„è¿æ¥ã€‚åªåˆ é™¤ä¸€ä¸ªè¿æ¥å¹¶ä¸å½±å“ç´¢å¼•èŠ‚ç‚¹æœ¬èº«å’Œå…¶å®ƒçš„è¿æ¥ï¼Œåªæœ‰å½“æœ€åä¸€ä¸ªè¿æ¥è¢«åˆ é™¤åï¼Œæ–‡ä»¶çš„æ•°æ®å—åŠç›®å½•çš„è¿æ¥æ‰ä¼šè¢«é‡Šæ”¾ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ–‡ä»¶çœŸæ­£åˆ é™¤çš„æ¡ä»¶æ˜¯ä¸ä¹‹ç›¸å…³çš„æ‰€æœ‰ç¡¬è¿æ¥æ–‡ä»¶å‡è¢«åˆ é™¤ã€‚

åˆ é™¤ä»»æ„ä¸€ä¸ªæ¡ç›®ï¼Œæ–‡ä»¶è¿˜æ˜¯å­˜åœ¨ï¼Œåªè¦å¼•ç”¨æ•°é‡ä¸ä¸º 0ã€‚

åœ¨ Linux ä¸­ï¼Œåˆ›å»ºç¡¬é“¾æ¥çš„æ–¹æ³•æ˜¯ ln:
```bash
ln file1 file2
```

åˆ›å»ºç¡¬é“¾æ¥ä¹‹åï¼Œæºæ–‡ä»¶å’Œç›®æ ‡æ–‡ä»¶å°†æ‹¥æœ‰å®Œå…¨ç›¸åŒçš„ inode ç¼–å·ï¼Œæƒé™ï¼Œå†…å®¹ç­‰ã€‚

ç¡¬é“¾æ¥çš„å‡ ä¸ªé™åˆ¶:
- ç¡¬é“¾æ¥åˆ›å»ºæ—¶è¦æ±‚æºæ–‡ä»¶å¿…é¡»å­˜åœ¨
- ä¸å…è®¸ç»™ç›®å½•åˆ›å»ºç¡¬é“¾æ¥(æ³¨æ„æ˜¯ä¸èƒ½é€šè¿‡ ln çš„æ–¹å¼)
- åªæœ‰åœ¨åŒä¸€æ–‡ä»¶ç³»ç»Ÿæ‰èƒ½åˆ›å»ºç¡¬é“¾æ¥

### å‹ç¼©å¤‡ä»½

- .tar
	```bash
	# æ³¨:tar æ˜¯æ‰“åŒ…,ä¸æ˜¯å‹ç¼©!
	tar -xvf FileName.tar						# è§£åŒ…
	tar -cvf FileName.tar DirName				# æ‰“åŒ…
	tar -tvf FileName.tar.gz					# ä¸è§£å‹æŸ¥çœ‹å†…å®¹
	tar -xvf FileName.tar.gz a.txt  			# è§£å‹æŒ‡å®šå†…å®¹
	tar -uvf test.tar.bz2 test					# æ›´æ–°ä¸€ä¸ªå†…å®¹
	tar -rvf test.tar.bz2 test2 				# è¿½åŠ ä¸€ä¸ªå†…å®¹
	```

- .tar.gz å’Œ .tgz
	```bash
	tar -zxvf FileName.tar.gz					# è§£å‹
	tar -zcvf FileName.tar.gz DirName			# å‹ç¼©
	```

- .tar.xz
	```bash
	tar -xvJf FileName.tar.xz					# è§£å‹
	```

- .tar.Z
	```bash
	tar -Zxvf FileName.tar.Z					# è§£å‹
	tar -Zcvf FileName.tar.Z DirName			# å‹ç¼©
	```

- .tar.bz
	```bash
	tar -jxvf FileName.tar.bz					# è§£å‹
	tar -jcvf FileName.tar.bz DirName			# å‹ç¼©
	```

- .gz
	```bash
	gunzip FileName.gz							# è§£å‹1
	gzip -dv FileName.gz						# è§£å‹2
	gzip FileName								# å‹ç¼©
	gzip -l FileName.gz 						# ä¸è§£å‹æŸ¥çœ‹å†…å®¹
	zcat FileName.gz 							# ä¸è§£å‹æŸ¥çœ‹å†…å®¹
	```

- .bz2
	```bash
	bzip2 -dv FileName.bz2						# è§£å‹1
	bunzip2 FileName.bz2						# è§£å‹2
	bzip2 -zv FileName							# å‹ç¼©
	bzcat FileName.bz2							# ä¸è§£å‹æŸ¥çœ‹å†…å®¹
	```

- .Z
	```bash
	uncompress FileName.Z						# è§£å‹
	compress FileName							# å‹ç¼©
	compress -rvf /home/abc/					# å¼ºåˆ¶å‹ç¼©æ–‡ä»¶å¤¹
	```

- .zip
	```bash
	unzip FileName.zip							# è§£å‹
	zip FileName.zip DirName					# å‹ç¼©
	zip -s 4m myzip.zip --out zip				# åˆ†å·å‹ç¼©
	cat zip.z* > myzip.zip && unzip myzip.zip	# zip åˆ†å·è§£å‹ç¼©
	```

- .rar
	```bash
	rar x FileName.rar							# è§£å‹
	rar a FileName.rar DirName					# å‹ç¼©
	```

- .lha
	```bash
	lha -e FileName.lha							# è§£å‹
	lha -a FileName.lha FileName				# å‹ç¼©
	```

- .rpm
	```bash
	rpm2cpio FileName.rpm | cpio -div			# è§£åŒ…
	```

- .deb
	```bash
	ar -p FileName.deb data.tar.gz | tar zxf -	# è§£åŒ…
	```

**7z**
```bash
apt install -y p7zip

7z a -t7z -r manager.7z /home/manager/*		# å‹ç¼©æ–‡ä»¶
	# a ä»£è¡¨æ·»åŠ æ–‡ä»¶ï¼æ–‡ä»¶å¤¹åˆ°å‹ç¼©åŒ…
	# -t æ˜¯æŒ‡å®šå‹ç¼©ç±»å‹ ä¸€èˆ¬æˆ‘ä»¬å®šä¸º7z
	# -r è¡¨ç¤ºé€’å½’æ‰€æœ‰çš„å­æ–‡ä»¶å¤¹ï¼Œmanager.7z æ˜¯å‹ç¼©å¥½åçš„å‹ç¼©åŒ…åï¼Œ/home/manager/* æ˜¯è¦å‹ç¼©çš„ç›®å½•ï¼Œï¼Šæ˜¯è¡¨ç¤ºè¯¥ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶ã€‚
7z x manager.7z -r -o /home/xx				# è§£å‹æ–‡ä»¶
	# x ä»£è¡¨è§£å‹ç¼©æ–‡ä»¶ï¼Œå¹¶ä¸”æ˜¯æŒ‰åŸå§‹ç›®å½•è§£å‹ï¼ˆè¿˜æœ‰ä¸ªå‚æ•° e ä¹Ÿæ˜¯è§£å‹ç¼©æ–‡ä»¶ï¼Œä½†å…¶ä¼šå°†æ‰€æœ‰æ–‡ä»¶éƒ½è§£å‹åˆ°æ ¹ä¸‹ï¼Œè€Œä¸æ˜¯è‡ªå·±åŸæœ‰çš„æ–‡ä»¶å¤¹ä¸‹ï¼‰manager.7z æ˜¯å‹ç¼©æ–‡ä»¶ï¼Œè¿™é‡Œå¤§å®¶è¦æ¢æˆè‡ªå·±çš„ã€‚å¦‚æœä¸åœ¨å½“å‰ç›®å½•ä¸‹è¦å¸¦ä¸Šå®Œæ•´çš„ç›®å½•
	# -r è¡¨ç¤ºé€’å½’æ‰€æœ‰çš„å­æ–‡ä»¶å¤¹
	# -o æ˜¯æŒ‡å®šè§£å‹åˆ°çš„ç›®å½•ï¼Œè¿™é‡Œå¤§å®¶è¦æ³¨æ„-oåæ˜¯æ²¡æœ‰ç©ºæ ¼çš„ç›´æ¥æ¥ç›®å½•
```

**pigz**

pigz å‘½ä»¤å¯ä»¥ç”¨æ¥è§£å‹ç¼©æ–‡ä»¶ï¼Œæœ€é‡è¦çš„æ˜¯æ”¯æŒå¤šçº¿ç¨‹å¹¶è¡Œå¤„ç†
```bash
tar -cvf - dir1 dir2 dir3 | pigz -p 8 > xxx.tgz		# ç»“åˆ tar ä½¿ç”¨, å‹ç¼©å‘½ä»¤
pigz -p 8 -d xxx.tgz		# è§£å‹å‘½ä»¤
tar -xzvf xxx.tgz			# å¦‚æœæ˜¯ gzip æ ¼å¼ï¼Œä¹Ÿæ”¯æŒç”¨ tar è§£å‹
```

---

# ç½‘ç»œç®¡ç†
## æŸ¥çœ‹ç½‘ç»œä¿¡æ¯

**ä¸»æœºå**
```bash
hostname				# æŸ¥çœ‹æœ¬æœºçš„hostname
```

**IP åœ°å€**
```bash
ifconfig				# ifconfig å‘½ä»¤å·²ç»è¢«å¼ƒç”¨ï¼Œä¸åº”è¯¥ä½¿ç”¨
ip a					# æ˜¾ç¤ºç½‘ç»œè®¾å¤‡çš„è¿è¡ŒçŠ¶æ€
hostname -I
netstat -a
cat /proc/net/fib_trie
cat /etc/sysconfig/network
sudo -v
```

**æµ‹è¯•è¿é€šæ€§**

- ping
	```bash
	ping [options] <target>
		e.g. : ping 127.0.0.1

	# -d ä½¿ç”¨ Socket çš„ SO_DEBUG åŠŸèƒ½ã€‚
	# -f æé™æ£€æµ‹ã€‚å¤§é‡ä¸”å¿«é€Ÿåœ°é€ç½‘ç»œå°åŒ…ç»™ä¸€å°æœºå™¨ï¼Œçœ‹å®ƒçš„å›åº”ã€‚
	# -n åªè¾“å‡ºæ•°å€¼ã€‚
	# -q ä¸æ˜¾ç¤ºä»»ä½•ä¼ é€å°åŒ…çš„ä¿¡æ¯ï¼Œåªæ˜¾ç¤ºæœ€åçš„ç»“æœã€‚
	# -r å¿½ç•¥æ™®é€šçš„ Routing Tableï¼Œç›´æ¥å°†æ•°æ®åŒ…é€åˆ°è¿œç«¯ä¸»æœºä¸Šã€‚é€šå¸¸æ˜¯æŸ¥çœ‹æœ¬æœºçš„ç½‘ç»œæ¥å£æ˜¯å¦æœ‰é—®é¢˜ã€‚
	# -R è®°å½•è·¯ç”±è¿‡ç¨‹ã€‚
	# -v è¯¦ç»†æ˜¾ç¤ºæŒ‡ä»¤çš„æ‰§è¡Œè¿‡ç¨‹ã€‚
	# -c æ•°ç›®ï¼šåœ¨å‘é€æŒ‡å®šæ•°ç›®çš„åŒ…ååœæ­¢ã€‚
	# -i ç§’æ•°ï¼šè®¾å®šé—´éš”å‡ ç§’é€ä¸€ä¸ªç½‘ç»œå°åŒ…ç»™ä¸€å°æœºå™¨ï¼Œé¢„è®¾å€¼æ˜¯ä¸€ç§’é€ä¸€æ¬¡ã€‚
	# -I ç½‘ç»œç•Œé¢ï¼šä½¿ç”¨æŒ‡å®šçš„ç½‘ç»œç•Œé¢é€å‡ºæ•°æ®åŒ…ã€‚
	# -l å‰ç½®è½½å…¥ï¼šè®¾ç½®åœ¨é€å‡ºè¦æ±‚ä¿¡æ¯ä¹‹å‰ï¼Œå…ˆè¡Œå‘å‡ºçš„æ•°æ®åŒ…ã€‚
	# -p èŒƒæœ¬æ ·å¼ï¼šè®¾ç½®å¡«æ»¡æ•°æ®åŒ…çš„èŒƒæœ¬æ ·å¼ã€‚
	# -s å­—èŠ‚æ•°ï¼šæŒ‡å®šå‘é€çš„æ•°æ®å­—èŠ‚æ•°ï¼Œé¢„è®¾å€¼æ˜¯ 56ï¼ŒåŠ ä¸Š 8 å­—èŠ‚çš„ ICMP å¤´ï¼Œä¸€å…±æ˜¯ 64ICMP æ•°æ®å­—èŠ‚ã€‚
	# -t å­˜æ´»æ•°å€¼ï¼šè®¾ç½®å­˜æ´»æ•°å€¼ TTL çš„å¤§å°ã€‚
	```

- traceroute
	```bash
	traceroute [options] <target>
		e.g. : traceroute www.baidu.com

	# -d ä½¿ç”¨ Socket å±‚çº§çš„æ’é”™åŠŸèƒ½
	# -f è®¾ç½®ç¬¬ä¸€ä¸ªæ£€æµ‹æ•°æ®åŒ…çš„å­˜æ´»æ•°å€¼ TTL çš„å¤§å°ã€‚
	# -F è®¾ç½®å‹¿ç¦»æ–­ä½ã€‚
	# -g è®¾ç½®æ¥æºè·¯ç”±ç½‘å…³ï¼Œæœ€å¤šå¯è®¾ç½® 8 ä¸ªã€‚
	# -i ä½¿ç”¨æŒ‡å®šçš„ç½‘ç»œç•Œé¢é€å‡ºæ•°æ®åŒ…ã€‚
	# -I ä½¿ç”¨ ICMP å›åº”å–ä»£ UDP èµ„æ–™ä¿¡æ¯ã€‚
	# -m è®¾ç½®æ£€æµ‹æ•°æ®åŒ…çš„æœ€å¤§å­˜æ´»æ•°å€¼ TTL çš„å¤§å°ã€‚
	# -n ç›´æ¥ä½¿ç”¨ IP åœ°å€è€Œéä¸»æœºåç§°ã€‚
	# -p è®¾ç½® UDP ä¼ è¾“åè®®çš„é€šä¿¡ç«¯å£ã€‚
	# -r å¿½ç•¥æ™®é€šçš„ Routing Tableï¼Œç›´æ¥å°†æ•°æ®åŒ…é€åˆ°è¿œç«¯ä¸»æœºä¸Šã€‚
	# -s è®¾ç½®æœ¬åœ°ä¸»æœºé€å‡ºæ•°æ®åŒ…çš„ IP åœ°å€ã€‚
	# -t è®¾ç½®æ£€æµ‹æ•°æ®åŒ…çš„ TOS æ•°å€¼ã€‚
	# -v è¯¦ç»†æ˜¾ç¤ºæŒ‡ä»¤çš„æ‰§è¡Œè¿‡ç¨‹ã€‚
	# -w è®¾ç½®ç­‰å¾…è¿œç«¯ä¸»æœºå›æŠ¥çš„æ—¶é—´ã€‚
	# -x å¼€å¯æˆ–å…³é—­æ•°æ®åŒ…çš„æ­£ç¡®æ€§æ£€éªŒã€‚
	```

**ç«¯å£**
```bash
getent services 		# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡çš„é»˜è®¤ç«¯å£åç§°å’Œç«¯å£å·
ss -tnlp				# è·å– socket ç»Ÿè®¡ä¿¡æ¯
lsof -i					# åˆ—å‡ºå½“å‰ç³»ç»Ÿæ‰“å¼€æ–‡ä»¶
netstat -antup
netstat -antpx
netstat -tulpn
fuser -v 22/tcp			# æŸ¥è¯¢è¿›ç¨‹ä½¿ç”¨çš„æ–‡ä»¶å’Œç½‘ç»œå¥—æ¥å­—
```

**è·¯ç”±è¡¨**
```bash
route					# æŸ¥çœ‹è·¯ç”±è¡¨
ip route				# æ˜¾ç¤ºæ ¸å¿ƒè·¯ç”±è¡¨
ip neigh				# æ˜¾ç¤ºé‚»å±…è¡¨
```

**DNS**
```bash
cat /etc/resolv.conf	# æŸ¥çœ‹ DNS è§£æé…ç½®æ–‡ä»¶
```

**arp æ¡ç›®**
```bash
arp -e					# ä»¥ Linux çš„æ˜¾ç¤ºé£æ ¼æ˜¾ç¤º arp ç¼“å†²åŒºä¸­çš„æ¡ç›®
```

---

## é…ç½®

**ä¿®æ”¹ä¸»æœºå**
```bash
vim /etc/hosts

127.0.0.1  test localhost		# ä¿®æ”¹ localhost.localdomain ä¸º test,shutdown -r now é‡å¯ä½¿ä¿®æ”¹ç”Ÿæ•ˆ
```
æˆ–
```bash
hostnamectl set-hostname test	# ä¿®æ”¹ hostname ç«‹å³ç”Ÿæ•ˆä¸”é‡å¯ä¹Ÿç”Ÿæ•ˆ
```

**ä¿®æ”¹ DNS**

- é€šç”¨(ä¸€æ¬¡æ€§,é‡å¯å¤±æ•ˆ)
	```vim
	vim /etc/resolv.conf

	nameserver 8.8.8.8
	```

- é€šç”¨(é•¿æœŸ)
	```vim
	apt install -y resolvconf

	vim /etc/resolvconf/resolv.conf.d/head

	nameserver 8.8.8.8
	```
	```
	resolvconf -u
	```

**ä¿®æ”¹ IP**
 - Ubuntu
	```bash
	vim /etc/network/interfaces

	auto enp7s0	 				# ä½¿ç”¨çš„ç½‘ç»œæ¥å£
	iface enp7s0 inet static	# é™æ€ ip è®¾ç½®
	address 10.0.208.222
	netmask 255.255.240.0
	gateway 10.0.208.1
	```
	```bash
	ip addr flush enp7s0
	systemctl restart networking.service

	systemctl restart NetworkManager
	systemctl enable NetworkManager
	```

- Centos
	```bash
	vim /etc/sysconfig/network-scripts/ifcfg-eth0	# é…ç½®æ–‡ä»¶åç§°å’Œç½‘å¡å¯¹åº”,å¯ä½¿ç”¨ ip a æŸ¥çœ‹æ‰€æœ‰ç½‘å¡åç§°

	HOSTNAME=test
	onboot=yes			# æ¿€æ´»ç½‘ç»œ
	HWADDR=00:0C:29:F1:2E:7B
	BOOTPROTO=static	# ä½¿ç”¨é™æ€ IP,è€Œä¸æ˜¯ç”± DHCP åˆ†é… IP
	# BOOTPROTO=dhcp è¿™ä¸ªæ˜¯ DHCP çš„é…ç½®,å¦‚æœé…è¿™ä¸ªé‚£ä¸‹é¢çš„å°±ä¸éœ€è¦é…ç½®äº†
	IPADDR=172.16.102.61
	PREFIX=24
	GATEWAY=172.16.102.254
	DNS1=223.5.5.5
	```
	```bash
	service network restart
	systemctl restart NetworkManager	# é‡å¯ç½‘ç»œç®¡ç†
	systemctl enable NetworkManager
	```

- Arch
	```bash
	ifconfig -a			# æŸ¥çœ‹ä¸‹å¯ç”¨çš„ç½‘å¡
	ifconfig eth0 up	# å¯åŠ¨ç½‘å¡
	dhcpcd  eth0		# è·å– ip
	```
	```vim
	vim /etc/rc.conf

	interface=eth0
	eth0="dhcp"
	lo="lo 127.0.0.1"
	eth0="eth0 192.168.0.2 netmask 255.255.255.0 broadcast 192.168.0.255"

	INTERFACES=(eth0)
	gateway="default gw 192.168.0.1"
	ROUTES=(gateway)
	```
	```bash
	/etc/rc.d/network restart
	```

**é…ç½® DHCP**
- Ubuntu
	```bash
	iface enp7s0 inet dhcp		# dhcp é…ç½®
	```

**ethtool**

`ethool æ˜¯ä¸€ä¸ªå®ç”¨çš„å·¥å…·ï¼Œç”¨æ¥ç»™ç³»ç»Ÿç®¡ç†å‘˜ä»¥å¤§é‡çš„æ§åˆ¶ç½‘ç»œæ¥å£çš„æ“ä½œã€‚`
```bash
ethtool eth0		# æ˜¾ç¤ºå…³äºè¯¥ç½‘å¡çš„åŸºæœ¬è®¾ç½®
ethtool -i eth0		# æŸ¥è¯¢è¯¥ç½‘å¡çš„é©±åŠ¨ç›¸å…³ä¿¡æ¯
ethtool -d eth0		# æŸ¥è¯¢ eth0 ç½‘å£æ³¨å†Œæ€§ä¿¡æ¯
ethtool -S eth0		# æŸ¥è¯¢ç½‘å£æ”¶å‘åŒ…ç»Ÿè®¡
ethtool -s eth0 speed 100 autoneg off	# -s é€‰é¡¹å¯ä»¥ä¿®æ”¹ç½‘å¡é…ç½®
# ä»¥ä¸Šå‘½ä»¤å°† eth0 ç½‘å¡çš„è‡ªåå•†ä¼ è¾“æ¨¡å¼å…³é—­ï¼Œä¼ è¾“é€Ÿç‡æ”¹ä¸º 100Mb/sã€‚å‘½ä»¤æ‰§è¡Œåéœ€è¦é‡æ–°å¯åŠ¨ eth0 ç½‘å¡ï¼š
ifup eth0

# é€šè¿‡ä»¥ä¸Šå‘½ä»¤ä¿®æ”¹ç½‘å¡é…ç½®ï¼Œåœ¨æœºå™¨é‡å¯åé…ç½®å°†ä¸å†ç”Ÿæ•ˆ
```

**è®¾ç½®åŒ…è½¬å‘**

åœ¨ CentOS ä¸­é»˜è®¤çš„å†…æ ¸é…ç½®å·²ç»åŒ…å«äº†è·¯ç”±åŠŸèƒ½ï¼Œä½†é»˜è®¤å¹¶æ²¡æœ‰åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶å¯ç”¨æ­¤åŠŸèƒ½ã€‚å¼€å¯ Linux çš„è·¯ç”±åŠŸèƒ½å¯ä»¥é€šè¿‡è°ƒæ•´å†…æ ¸çš„ç½‘ç»œå‚æ•°æ¥å®ç°ã€‚è¦é…ç½®å’Œè°ƒæ•´å†…æ ¸å‚æ•°å¯ä»¥ä½¿ç”¨ sysctl å‘½ä»¤
```bash
sysctl -w net.ipv4.ip_forward=1
```

è¿™æ ·è®¾ç½®ä¹‹åï¼Œå½“å‰ç³»ç»Ÿå°±èƒ½å®ç°åŒ…è½¬å‘ï¼Œä½†ä¸‹æ¬¡å¯åŠ¨è®¡ç®—æœºæ—¶å°†å¤±æ•ˆã€‚ä¸ºäº†ä½¿åœ¨ä¸‹æ¬¡å¯åŠ¨è®¡ç®—æœºæ—¶ä»ç„¶æœ‰æ•ˆï¼Œéœ€è¦å°†ä¸‹é¢çš„è¡Œå†™å…¥é…ç½®æ–‡ä»¶ /etc/sysctl.conf
```diff
vim /etc/sysctl.conf

++ net.ipv4.ip_forward = 1
```

**ä¿®æ”¹è·¯ç”±**
```bash
route	# æŸ¥çœ‹è·¯ç”±è¡¨

# æ·»åŠ åˆ°ä¸»æœºçš„è·¯ç”±
route add -host 192.168.1.2 dev eth0
route add -host 10.20.30.148 gw 10.20.30.40

# æ·»åŠ åˆ°ç½‘ç»œçš„è·¯ç”±
route add -net 10.20.30.40 netmask 255.255.255.248 eth0
route add -net 10.20.30.48 netmask 255.255.255.248 gw 10.20.30.41
route add -net 192.168.1.0/24 eth1

# æ·»åŠ é»˜è®¤è·¯ç”±
route add default gw 192.168.1.1

# åˆ é™¤è·¯ç”±
route del -host 192.168.1.2 dev eth0:0
route del -host 10.20.30.148 gw 10.20.30.40
route del -net 192.168.1.0/24 eth1
route del default gw 192.168.1.1
```

---

## æŠ“åŒ…

**tcpdump**
```bash
# Debianå®‰è£…
apt install -y tcpdump

# Redhatå®‰è£…
yum install -y tcpdump

# å½“æˆ‘ä»¬åœ¨æ²¡ç”¨ä»»ä½•é€‰é¡¹çš„æƒ…å†µä¸‹è¿è¡Œ tcpdump å‘½ä»¤æ—¶,å®ƒå°†æ•è·æ‰€æœ‰æ¥å£ä¸Šçš„æ•°æ®åŒ…
tcpdump -i {æ¥å£å}	# æŒ‡å®šæ¥å£

# å‡è®¾æˆ‘ä»¬æƒ³ä»ç‰¹å®šæ¥å£(å¦‚ enp0s3)æ•è· 12 ä¸ªæ•°æ®åŒ…
tcpdump -i enp0s3 -c 12

# ä½¿ç”¨ -D é€‰é¡¹æ˜¾ç¤º tcpdump å‘½ä»¤çš„æ‰€æœ‰å¯ç”¨æ¥å£
tcpdump -D

# é»˜è®¤æƒ…å†µä¸‹,åœ¨ tcpdump å‘½ä»¤è¾“å‡ºä¸­,ä¸æ˜¾ç¤ºå¯è¯»æ€§å¥½çš„æ—¶é—´æˆ³,å¦‚æœä½ æƒ³å°†å¯è¯»æ€§å¥½çš„æ—¶é—´æˆ³ä¸æ¯ä¸ªæ•è·çš„æ•°æ®åŒ…ç›¸å…³è”,é‚£ä¹ˆä½¿ç”¨ -tttt é€‰é¡¹,ç¤ºä¾‹å¦‚ä¸‹æ‰€ç¤º
tcpdump -i enp0s3 -c 12 -tttt

# ä½¿ç”¨ tcpdump å‘½ä»¤ä¸­çš„ -w é€‰é¡¹å°†æ•è·çš„ TCP/IP æ•°æ®åŒ…ä¿å­˜åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­
tcpdump -i enp0s3 -c 12 -tttt -w test.pcap	# æ³¨æ„:æ–‡ä»¶æ‰©å±•åå¿…é¡»ä¸º .pcap

# æ•è·å¹¶ä¿å­˜å¤§å°å¤§äº N å­—èŠ‚çš„æ•°æ®åŒ….
tcpdump -i enp0s3 -c 12 -tttt -w test.pcap greater 1024
# æ•è·å¹¶ä¿å­˜å¤§å°å°äº N å­—èŠ‚çš„æ•°æ®åŒ….
tcpdump -i enp0s3 -c 12 -tttt -w test.pcap less 1024

# ä½¿ç”¨é€‰é¡¹ -r ä»æ–‡ä»¶ä¸­è¯»å–è¿™äº›æ•°æ®åŒ…
tcpdump -r test.pcap -tttt

# åªæ•è·ç‰¹å®šæ¥å£ä¸Šçš„ IP åœ°å€æ•°æ®åŒ…
tcpdump -i enp0s3 -n

# ä½¿ç”¨ tcp é€‰é¡¹æ¥åªæ•è· TCP æ•°æ®åŒ…
tcpdump -i enp0s3 tcp

# ä»ç‰¹å®šæ¥å£ enp0s3 ä¸Šçš„ç‰¹å®šç«¯å£(ä¾‹å¦‚ 22)æ•è·æ•°æ®åŒ…
tcpdump -i enp0s3 port 22

# ä½¿ç”¨ src å…³é”®å­—åè·Ÿ IP åœ°å€,æ•è·æ¥è‡ªç‰¹å®šæ¥æº IP çš„æ•°æ®åŒ…
tcpdump -i enp0s3 -n src 1.1.1.1

# æ•è·æ¥è‡ªç‰¹å®šç›®çš„ IP çš„æ•°æ®åŒ…
tcpdump -i enp0s3 -n dst 1.1.1.1

# å‡è®¾æˆ‘æƒ³æ•è·ä¸¤å°ä¸»æœº 169.144.0.1 å’Œ 169.144.0.20 ä¹‹é—´çš„ TCP æ•°æ®åŒ…
tcpdump -w test2.pcap -i enp0s3 tcp and \(host 169.144.0.1 or host 169.144.0.20\)

# åªæ•è·ä¸¤å°ä¸»æœºä¹‹é—´çš„ SSH æ•°æ®åŒ…æµ
tcpdump -w test3.pcap -i enp0s3 src 169.144.0.1 and port 22 and dst 169.144.0.20 and port 22

# ä½¿ç”¨ tcpdump å‘½ä»¤,ä»¥ ASCII å’Œåå…­è¿›åˆ¶æ ¼å¼æ•è· TCP/IP æ•°æ®åŒ…
tcpdump -c 10 -A -i enp0s3
```

---

## ä¼ è¾“-ä¸‹è½½

**scp**
```bash
scp /home/space/music/1.mp3 root@192.168.1.1:/home/root/others/music	# æœ¬åœ°æ–‡ä»¶å¤åˆ¶åˆ°è¿œç¨‹
scp root@192.168.1.1:/home/root/others/music /home/space/music/1.mp3	# è¿œç¨‹æ–‡ä»¶å¤åˆ¶åˆ°æœ¬åœ°

scp -r 		# æ–‡ä»¶å¤¹ä¼ è¾“
	scp -r /home/space/music/ root@192.168.1.1:/home/root/others/	# å°†æœ¬åœ° music ç›®å½•å¤åˆ¶åˆ°è¿œç¨‹ others ç›®å½•ä¸‹
```

**lrzsz**
```bash
yum install -y lrzsz
sz xxx		# å°†é€‰å®šçš„æ–‡ä»¶å‘é€(send)åˆ°æœ¬åœ°æœºå™¨
rz 			# è¿è¡Œè¯¥å‘½ä»¤ä¼šå¼¹å‡ºä¸€ä¸ªæ–‡ä»¶é€‰æ‹©çª—å£,ä»æœ¬åœ°é€‰æ‹©æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨(receive),éœ€è¦è¿œç¨‹è½¯ä»¶æ”¯æŒ
```

**wget**
```bash
# ç”¨äºä¸‹è½½æ–‡ä»¶çš„å·¥å…·
wget [options] [target]

# e.g.
wget example.com/big.file.iso								# ä¸‹è½½ç›®æ ‡æ–‡ä»¶
wget -O filename.html example.com							# å¦è¡Œå‘½å
wget -c example.com/big.file.iso							# æ¢å¤ä¹‹å‰çš„ä¸‹è½½
wget -i list.txt											# ä¸‹è½½æ–‡ä»¶ä¸­çš„ url
wget -r example.com											# é€’å½’ä¸‹è½½
wget --no-check-certificate									# ä¸æ£€æŸ¥ https è¯ä¹¦
wget ftp://user:password@host:/path-to-file/file.txt		# ftp ä¸‹è½½
wget -br ftp://user:password@ftp-host:/path-for-download/	# é€’å½’ä¸‹è½½ ftp ç›®å½•ä¸‹æ–‡ä»¶
```

**curl**
```bash
curl -o wordpress.zip https://wordpress.org/latest.zip		# å¦è¡Œå‘½å
curl -C - O https://wordpress.org/latest.zip				# æ¢å¤ä¹‹å‰çš„ä¸‹è½½
```

**Aria2**
```bash
aria2c http://releases.ubuntu.com/18.10/ubuntu-18.10-desktop-amd64.iso.torrent		# ä¸‹è½½ç£åŠ›é“¾æ¥
aria2c -i downloadurls.txt									# ä¸‹è½½æ–‡ä»¶ä¸­çš„ url
aria2c -c http://releases.ubuntu.com/18.10/ubuntu-18.10-desktop-amd64.iso.torrent	# æ¢å¤ä¹‹å‰çš„ä¸‹è½½
aria2c -max-download-limit=100K http://releases.ubuntu.com/disco/ubuntu-19.04-desktop-amd64.iso.torrent		# è®¾ç½®æœ€å¤§é€Ÿåº¦é™åˆ¶
```

### bt

- Transmission
- rtorrent
- **[peerflix](https://github.com/mafintosh/peerflix)**
	```bash
	npm install -g peerflix
	peerflix "magnet:?xt=urn:btih:ef330b39f4801d25b4245212e75a38634bfc856e"
	```
- **[tget](https://github.com/jeffjose/tget)**
	```bash
	npm install -g t-get
	tget 'magnet:?xt=urn:btih:0403fb4728bd788fbcb67e87d6feb241ef38c75a'
	```

---

### è¿œç¨‹è®¿é—®

**ssh**
```bash
ssh [options] <target>
	e.g. : ssh 127.0.0.1

	ssh -V	# è¯†åˆ« SSH å®¢æˆ·ç«¯ç‰ˆæœ¬
	ssh-v	# è°ƒè¯• ssh ä¼šè¯
```

---

## Firewall
### Firewalld

```bash
firewall-cmd --zone=public --add-port=12345/tcp --permanent		# å¼€æ”¾ç«¯å£
firewall-cmd --zone=public --add-service=http --permanent		# å¼€æ”¾æœåŠ¡
firewall-cmd --zone=public --add-rich-rule 'rule family="ipv4" source address="192.168.1.10" accept' --permanent						# å…è®¸192.168.1.10æ‰€æœ‰è®¿é—®æ‰€æœ‰ç«¯å£
firewall-cmd --zone=public --add-rich-rule 'rule family="ipv4" source address="192.168.1.10" port port=22 protocol=tcp reject' --permanent	# æ‹’ç»192.168.1.10æ‰€æœ‰è®¿é—®TCPåè®®çš„22ç«¯å£

firewall-cmd --reload			# é‡æ–°åŠ è½½
firewall-cmd --list-services	# æŸ¥çœ‹é˜²ç«å¢™è®¾ç½®
systemctl status firewalld		# æŸ¥çœ‹æœåŠ¡è¿è¡ŒçŠ¶æ€
systemctl start firewalld		# å¼€å¯æœåŠ¡
systemctl stop firewalld		# å…³é—­æœåŠ¡
```

**æ›´å¤šé…ç½®**

è§ [Firewall.md](./å®éªŒ/Firewall.md)

### Iptables

```bash
iptables-save > /root/firewall_rules.backup		# å…ˆå¤‡ä»½ä¸€ä¸‹ç­–ç•¥
iptables -A OUTPUT -p tcp -d bigmart.com -j ACCEPT
iptables -A OUTPUT -p tcp --dport 80 -j DROP
iptables -A INPUT -p tcp -s 10.0.3.1 --dport 22 -j ACCEPT
iptables -A INPUT -p tcp -s 0.0.0.0/0 --dport 22 -j DROP

iptables -L			# æŸ¥çœ‹é˜²ç«å¢™è§„åˆ™
iptables-restore </root/firewall_rules.backup	# æ¢å¤è§„åˆ™
iptables -F  		# æ¸…é™¤é˜²ç«å¢™é…ç½®
```

### ufw

**Ubuntu å…³é—­é˜²ç«å¢™**
```bash
ufw disable
```

æ›´å¤šå†…å®¹è§ [ufw.md](./å®éªŒ/ufw.md)

---

## è½¯ä»¶åŒ…ç®¡ç†

**æŸ¥çœ‹å®‰è£…çš„ç¨‹åº**
```bash
ls -alh /usr/bin/
ls -alh /sbin/
dpkg -l
rpm -qa
ls -alh /var/cache/apt/archivesO
ls -alh /var/cache/yum/
```

**update-alternatives**
```bash
# update-alternatives å‘½ä»¤ç”¨äºå¤„ç† linux ç³»ç»Ÿä¸­è½¯ä»¶ç‰ˆæœ¬çš„åˆ‡æ¢,åœ¨å„ä¸ª linux å‘è¡Œç‰ˆä¸­å‡æä¾›äº†è¯¥å‘½ä»¤,å‘½ä»¤å‚æ•°ç•¥æœ‰åŒºåˆ«,ä½†å¤§è‡´æ˜¯ä¸€æ ·çš„.

# æ³¨å†Œè½¯ä»¶
	update-alternatives --install <link> <name> <path> <priority>
	update-alternatives --install /usr/bin/java java /opt/jdk1.8.0_91/bin/java 200
	# ä»¥jdkä¸ºä¾‹,å®‰è£…äº† jdk ä»¥å,å…ˆè¦åœ¨ update-alternatives å·¥å…·ä¸­æ³¨å†Œ
	update-alternatives --install /usr/bin/java java /opt/jdk1.8.0_111/bin/java 300

	# ç¬¬ä¸€ä¸ªå‚æ•° --install è¡¨ç¤ºæ³¨å†ŒæœåŠ¡å.
	# ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ³¨å†Œæœ€ç»ˆåœ°å€,æˆåŠŸåå°†ä¼šæŠŠå‘½ä»¤åœ¨è¿™ä¸ªå›ºå®šçš„ç›®çš„åœ°å€åšçœŸå®å‘½ä»¤çš„è½¯é“¾,ä»¥åç®¡ç†å°±æ˜¯ç®¡ç†è¿™ä¸ªè½¯é“¾;
	# ç¬¬ä¸‰ä¸ªå‚æ•°:æœåŠ¡å,ä»¥åç®¡ç†æ—¶ä»¥å®ƒä¸ºå…³è”ä¾æ®.
	# ç¬¬å››ä¸ªå‚æ•°,è¢«ç®¡ç†çš„å‘½ä»¤ç»å¯¹è·¯å¾„.
	# ç¬¬äº”ä¸ªå‚æ•°,ä¼˜å…ˆçº§,æ•°å­—è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜.

# æŸ¥çœ‹å·²æ³¨å†Œåˆ—è¡¨
	update-alternatives --display java

# ä¿®æ”¹å‘½ä»¤ç‰ˆæœ¬
	update-alternatives --config java
	# è¾“å…¥æ•°å­—,é€‰æ‹©ç›¸åº”ç‰ˆæœ¬
	update-alternatives --auto java								# æŒ‰ç…§ä¼˜å…ˆçº§é«˜è‡ªåŠ¨é€‰æ‹©
	update-alternatives --set java /opt/jdk1.8.0_91/bin/java	# ç›´æ¥æŒ‡å®š
```

**alien**

alien æ˜¯ä¸€ä¸ªç”¨äºåœ¨å„ç§ä¸åŒçš„ Linux åŒ…æ ¼å¼ç›¸äº’è½¬æ¢çš„å·¥å…·ï¼Œå…¶æœ€å¸¸è§çš„ç”¨æ³•æ˜¯å°† .rpm è½¬æ¢æˆ .debï¼ˆæˆ–è€…åè¿‡æ¥ï¼‰ã€‚
```bash
apt install -y alien			# å®‰è£… alien
alien --to-deb oracle-instantclient19.6-basic-19.6.0.0.0-1.x86_64.rpm	# å°† oracle Basic Package ä» rpm è½¬ä¸º deb æ ¼å¼
```

### apt

> apt çš„å…¨ç§°æ˜¯ Advanced Packaging Tool æ˜¯ Linux ç³»ç»Ÿä¸‹çš„ä¸€æ¬¾å®‰è£…åŒ…ç®¡ç†å·¥å…·.

**å®‰è£…è½¯ä»¶**
```bash
apt install <package>
apt-get install <package>
```

**æ›´æ–°**
```bash
# æ›´æ–°æº:
apt-get update

# å¯¹è½¯ä»¶è¿›è¡Œä¸€æ¬¡æ•´ä½“æ›´æ–°:
apt-get update & apt-get upgrade
apt-get dist-upgrade
apt-get clean

apt-key list		# æŸ¥çœ‹ä»“åº“å¯†é’¥
```

**æ— æ³•è·å¾—é” /var/lib/apt/lists/lock - open (11: èµ„æºæš‚æ—¶ä¸å¯ç”¨)**
```bash
rm -rf /var/cache/apt/archives/lock
rm -rf /var/lib/dpkg/lock-frontend
rm -rf /var/lib/dpkg/lock		# å¼ºåˆ¶è§£é”å ç”¨
rm /var/lib/dpkg/lock
rm /var/lib/apt/lists/lock
```

**E: Unable to correct problems, you have held broken packages.**
```bash
aptitude install <packagename>	# è¯¥å·¥å…·ä¼šæƒ³æ–¹è®¾æ³•çš„å¸®åŠ©ä½ å®‰è£…(æç¤ºä¾èµ–ã€å…¶ä»–å®‰è£…åŒ…ç­‰ç­‰)
```

**dpkg: error: parsing file '/var/lib/dpkg/updates/0023' near line 0**
```bash
rm /var/lib/dpkg/updates/*
apt-get update
```

**ç¦ç”¨ Ubuntu è‡ªåŠ¨æ›´æ–°**
```bash
nano /etc/apt/apt.conf.d/20auto-upgrades

# å¦‚æœä½ ä¸å¸Œæœ›ç³»ç»Ÿè‡ªåŠ¨æ£€æŸ¥æ›´æ–°
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Unattended-Upgrade "0";

# æœä½ å¸Œæœ›å®ƒæ£€æŸ¥æ›´æ–°ä½†ä¸è‡ªåŠ¨å®‰è£…æ— äººå€¼å®ˆçš„å‡çº§
    APT::Periodic::Update-Package-Lists "1";
    APT::Periodic::Unattended-Upgrade "0";
```

**enable the "Universe" repository**
```bash
add-apt-repository universe
apt-get update
```

**Gdebi**

> Gdebi æ˜¯ä¸€ä¸ªå®‰è£… .deb è½¯ä»¶åŒ…çš„å·¥å…·.æä¾›äº†å›¾å½¢åŒ–çš„ä½¿ç”¨ç•Œé¢

```bash
apt update
apt install -y gdebi
```

#### Ubuntu apt æ¢æº

**20.04**
```bash
tee /etc/apt/sources.list <<-'EOF'
deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
EOF
apt update
```

**18.04**
```bash
tee /etc/apt/sources.list <<-'EOF'
deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse
EOF
apt update
```

**16.04**
```bash
tee /etc/apt/sources.list <<-'EOF'
deb http://mirrors.aliyun.com/ubuntu/ xenial main
deb-src http://mirrors.aliyun.com/ubuntu/ xenial main
deb http://mirrors.aliyun.com/ubuntu/ xenial-updates main
deb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates main
deb http://mirrors.aliyun.com/ubuntu/ xenial universe
deb-src http://mirrors.aliyun.com/ubuntu/ xenial universe
deb http://mirrors.aliyun.com/ubuntu/ xenial-updates universe
deb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates universe
deb http://mirrors.aliyun.com/ubuntu/ xenial-security main
deb-src http://mirrors.aliyun.com/ubuntu/ xenial-security main
deb http://mirrors.aliyun.com/ubuntu/ xenial-security universe
deb-src http://mirrors.aliyun.com/ubuntu/ xenial-security universe
EOF
apt update
```

#### Debain apt æ¢æº

**10**
```bash
tee /etc/apt/sources.list <<-'EOF'
deb http://mirrors.aliyun.com/debian/ buster main non-free contrib
deb-src http://mirrors.aliyun.com/debian/ buster main non-free contrib
deb http://mirrors.aliyun.com/debian-security buster/updates main
deb-src http://mirrors.aliyun.com/debian-security buster/updates main
deb http://mirrors.aliyun.com/debian/ buster-updates main non-free contrib
deb-src http://mirrors.aliyun.com/debian/ buster-updates main non-free contrib
deb http://mirrors.aliyun.com/debian/ buster-backports main non-free contrib
deb-src http://mirrors.aliyun.com/debian/ buster-backports main non-free contrib
EOF
apt update
```

**9**
```bash
tee /etc/apt/sources.list <<-'EOF'
deb http://mirrors.aliyun.com/debian/ stretch main non-free contrib
deb-src http://mirrors.aliyun.com/debian/ stretch main non-free contrib
deb http://mirrors.aliyun.com/debian-security stretch/updates main
deb-src http://mirrors.aliyun.com/debian-security stretch/updates main
deb http://mirrors.aliyun.com/debian/ stretch-updates main non-free contrib
deb-src http://mirrors.aliyun.com/debian/ stretch-updates main non-free contrib
deb http://mirrors.aliyun.com/debian/ stretch-backports main non-free contrib
deb-src http://mirrors.aliyun.com/debian/ stretch-backports main non-free contrib
EOF
apt update
```

**8**
```bash
tee /etc/apt/sources.list <<-'EOF'
deb http://mirrors.aliyun.com/debian/ jessie main non-free contrib
deb http://mirrors.aliyun.com/debian/ jessie-proposed-updates main non-free contrib
deb-src http://mirrors.aliyun.com/debian/ jessie main non-free contrib
deb-src http://mirrors.aliyun.com/debian/ jessie-proposed-updates main non-free contrib
EOF
apt update
```

**7**
```bash
tee /etc/apt/sources.list <<-'EOF'
deb http://mirrors.aliyun.com/debian/ wheezy main non-free contrib
deb http://mirrors.aliyun.com/debian/ wheezy-proposed-updates main non-free contrib
deb-src http://mirrors.aliyun.com/debian/ wheezy main non-free contrib
deb-src http://mirrors.aliyun.com/debian/ wheezy-proposed-updates main non-free contrib
EOF
apt update
```

#### Kali apt æ¢æº
```bash
tee /etc/apt/sources.list <<-'EOF'

# é˜¿é‡Œæº
deb https://mirrors.aliyun.com/kali kali-rolling main non-free contrib
deb-src https://mirrors.aliyun.com/kali kali-rolling main non-free contrib

# æ¸…åæº
deb http://mirrors.tuna.tsinghua.edu.cn/kali kali-rolling main contrib non-free
deb-src https://mirrors.tuna.tsinghua.edu.cn/kali kali-rolling main contrib non-free

# å®˜æ–¹æº
deb http://http.kali.org/kali kali-rolling main non-free contrib
deb-src http://http.kali.org/kali kali-rolling main non-free contrib

EOF
apt update
```

### Binary

```bash
yum install -y make
yum install -y gcc
yum install -y gcc-c++
./configure --prefix=/opt	# é…ç½®,è¡¨ç¤ºå®‰è£…åˆ° /opt ç›®å½•
make						# ç¼–è¯‘
make install				# å®‰è£…
```

### dnf

> DNF(Dandified Yum)æ˜¯ä¸€ç§çš„ RPM è½¯ä»¶åŒ…ç®¡ç†å™¨ã€‚

**å®‰è£… dnf**
```bash
yum install -y epel-release
yum install -y dnf
```

### dpkg

> dpkg å‘½ä»¤æ˜¯ Debian Linux ç³»ç»Ÿç”¨æ¥å®‰è£…ã€åˆ›å»ºå’Œç®¡ç†è½¯ä»¶åŒ…çš„å®ç”¨å·¥å…·.

**åŸºæœ¬ç”¨æ³•**
```bash
dpkg -i xxxxx.deb  			# å®‰è£…è½¯ä»¶
dpkg -R /usr/local/src		# å®‰è£…è·¯å¾„ä¸‹æ‰€æœ‰åŒ…
dpkg -L 					# æŸ¥çœ‹è½¯ä»¶å®‰è£…ä½ç½®
```

### Pacman

> pacman æ˜¯ Arch çš„åŒ…ç®¡ç†å·¥å…·.

**åŸºæœ¬ç”¨æ³•**
```bash
pacman -S <package>			# å®‰è£…æˆ–è€…å‡çº§å•ä¸ªè½¯ä»¶åŒ…
pacman -R <package>			# åˆ é™¤å•ä¸ªè½¯ä»¶åŒ…,ä¿ç•™å…¶å…¨éƒ¨å·²ç»å®‰è£…çš„ä¾èµ–å…³ç³»
pacman -Ss <package>		# æŸ¥è¯¢è½¯ä»¶åŒ…
```

**Pacman æ¢æº**
```bash
pacman-mirrors -i -c China -m rank		# æ›´æ–°é•œåƒæ’å
pacman -Syy    							# æ›´æ–°æ•°æ®æº
pacman -S archlinux-keyring
```

### rpm

> rpm å‘½ä»¤æ˜¯ RPM è½¯ä»¶åŒ…çš„ç®¡ç†å·¥å…·.

```bash
rpm -qa 					# æœç´¢ rpm åŒ…
rpm -qf /etc/my.conf		# æŸ¥è¯¢æ–‡ä»¶æ¥è‡ªå“ªä¸ªåŒ…
rpm -ivh xxxx.rpm			# å®‰è£…æœ¬åœ°åŒ…
rpm -e xxx					# å¸è½½
rpm -U						# å‡çº§
rpm -V						# éªŒè¯
```

### snap

> Snappy æ˜¯ä¸€ä¸ªè½¯ä»¶éƒ¨ç½²å’Œè½¯ä»¶åŒ…ç®¡ç†ç³»ç»Ÿï¼Œæœ€æ—©ç”± Canonical å…¬å¸ä¸ºäº† Ubuntu ç§»åŠ¨ç”µè¯æ“ä½œç³»ç»Ÿè€Œè®¾è®¡å’Œæ„å»ºã€‚å…¶åŒ…ç§°ä¸ºâ€œsnapâ€ï¼Œå·¥å…·åä¸ºâ€œsnapdâ€ï¼Œå¯åœ¨å¤šç§ Linux å‘è¡Œç‰ˆä¸Šè¿è¡Œï¼Œå®Œæˆå‘è¡Œä¸Šæ¸¸ä¸»å¯¼çš„è½¯ä»¶éƒ¨ç½²ã€‚è¯¥ç³»ç»Ÿçš„è®¾è®¡é¢å‘æ‰‹æœºã€äº‘ã€ç‰©è”ç½‘å’Œå°å¼æœºã€‚

**Centos ä¸‹å®‰è£… snap**
```bash
yum install -y epel-release
yum install -y snapd
systemctl enable --now snapd.socket
ln -s /var/lib/snapd/snap /snap
```

**kali ä¸‹å®‰è£… snap**
```bash
apt-get update
apt install -y snapd
systemctl start snapd
export PATH=$PATH:/snap/bin
```

**Ubuntu ä¸‹å®‰è£… snap**
```bash
apt-get update
apt install -y snapd
```

### yum

> yum æ˜¯åœ¨ Fedora å’Œ RedHat ä»¥åŠ SUSE ä¸­åŸºäº rpm çš„è½¯ä»¶åŒ…ç®¡ç†å™¨.

**åŸºç¡€ä½¿ç”¨**
```bash
yum update && yum upgrade 	# æ›´æ–°å’Œå‡çº§ rpm è½¯ä»¶åŒ…
yum repolist				# æŸ¥çœ‹ä»“åº“åˆ—è¡¨
yum provides ifconfig 		# æŸ¥çœ‹å“ªä¸ªåŒ…æä¾› ifconfig

# /var/run/yum.pid å·²è¢«é”å®š,PID ä¸º xxxx çš„å¦ä¸€ä¸ªç¨‹åºæ­£åœ¨è¿è¡Œ.
rm -f /var/run/yum.pid		# å¼ºåˆ¶è§£é”å ç”¨
```

**é…ç½®æœ¬åœ° yum æº**

æŒ‚è½½åˆ°/mnt/cdrom
```bash
mkdir /mnt/cdrom
mount /dev/cdrom /mnt/cdrom/
```

è¿›å…¥ /etc/yum.repos.d ç›®å½•,å°†å…¶ä¸­ä¸‰ä¸ªæ”¹åæˆ–è€…å‰©ä¸‹æ‰€æœ‰éƒ½ç§»èµ°ç•™ä¸‹ CentOS-Base.repo
```bash
cd /etc/yum.repos.d
rm  CentOS-Media.repo
rm  CentOS-Vault.repo
```

ç¼–è¾‘ CentOS-Base.repo
```vim
vim CentOS-Base.repo

baseurl=file:///mnt/cdrom/	# è¿™é‡Œä¸ºæœ¬åœ°æºè·¯å¾„
gpgcheck=0
enabled=1					# å¼€å¯æœ¬åœ°æº
```
```bash
yum list    #  çœ‹ä¸€ä¸‹åŒ…
```

#### é…ç½® yum æº

**8**
```bash
wget -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-8.repo
```

**7**
```bash
wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo
```

**6**
```bash
wget -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-6.repo
```

**åˆ·æ–° YUM çš„ç¼“å­˜çŠ¶æ€**
```bash
yum clean all
yum makecache
```

#### é…ç½® EPEL æº

**RHEL 8**
```bash
yum install -y https://mirrors.aliyun.com/epel/epel-release-latest-8.noarch.rpm
sed -i 's|^#baseurl=https://download.fedoraproject.org/pub|baseurl=https://mirrors.aliyun.com|' /etc/yum.repos.d/epel*
sed -i 's|^metalink|#metalink|' /etc/yum.repos.d/epel*
```

**RHEL 7**
```bash
curl -o /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo
```

**RHEL 6**
```bash
wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-6.repo
```

### å¸¸ç”¨è½¯ä»¶

**bash-insulter**

> ä¸€ä¸ªåœ¨ä½ æ‰“é”™å‘½ä»¤æ—¶å€™å˜´è‡­ä½ çš„å·¥å…·

```bash
git clone https://github.com/No-Github/bash-insulter.git bash-insulter
cp bash-insulter/src/bash.command-not-found /etc/
chmod 777 /etc/bash.command-not-found
source /etc/bash.command-not-found
```
```bash
vim /etc/bashrc æˆ– vim /etc/bash.bashrc

. /etc/bash.command-not-found
echo "$(tput cuf 10) $(tput setab 1)FBI WARNING$(tput sgr 0)"
echo ""
echo "Federal Law provides severe civil and criminal penalties for
the unauthorized reproduction, distribution, or exhibition of
copyrighted motion pictures (Title 17, United States Code,
Sections 501 and 508). The Federal Bureau of Investigation
investigates allegations of criminal copyright infringement"
echo "$(tput cuf 5) (Title 17, United States Code, Section 506)."
```

**Fish**

> ä¸€ä¸ªæŒºå¥½ç”¨çš„ shell ç¯å¢ƒ

```bash
echo /usr/bin/fish | sudo tee -a /etc/shells	# åŠ é»˜è®¤
usermod -s /usr/bin/fish <USERNAME>
```

**zsh**

> ä¸€ä¸ªæŒºå¥½ç”¨çš„ shell ç¯å¢ƒ

```bash
apt install -y zsh		# å®‰è£… zsh
chsh -s /bin/zsh	# åˆ‡æ¢é»˜è®¤çš„ shell ä¸º zsh
sh -c "$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"	# å®‰è£… oh-my-zsh
git clone git://github.com/zsh-users/zsh-autosuggestions $ZSH_CUSTOM/plugins/zsh-autosuggestions	# ä¸‹è½½å‘½ä»¤è¡¥å…¨æ’ä»¶

# zshrc é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹å¦‚ä¸‹å†…å®¹
vim ~/.zshrc

plugins=(git zsh-autosuggestions)

zsh					# é‡æ–°åŠ è½½ zsh é…ç½®

# æ›´å¤šä¸»é¢˜è§æ­¤ https://github.com/robbyrussell/oh-my-zsh/wiki/themes
```

**Powerline-shell**

> ç”¨äºç¾åŒ– shell ç¯å¢ƒ

```bash
pip install powerline-shell
```
```vim
vim ~/.config/fish/config.fish

function fish_prompt
	powerline-shell --shell bare $status
end
```

æ›´å¤šå…³äº linux å·¥å…·çš„å†…å®¹å‚è€ƒç¬”è®° [å·¥å…·](./ç¬”è®°/å·¥å…·.md)

---

# ç³»ç»Ÿç®¡ç†

## ç³»ç»Ÿä¿¡æ¯

- å†…å®¹å‚è§ [ä¿¡æ¯](./ç¬”è®°/ä¿¡æ¯.md)

### æ—¥å¿—

- å†…å®¹å‚è§ [æ—¥å¿—](./ç¬”è®°/æ—¥å¿—.md)

---

## ç³»ç»Ÿè®¾ç½®
### æ—¶é—´

- date
	```bash
	# date å‘½ä»¤ç”¨äºæŸ¥çœ‹å½“å‰æ—¶é—´
	date							# ä¸å¸¦ä»»ä½•å‚æ•°çš„ date ä»…ç”¨äºæŸ¥çœ‹æ—¶é—´
	date -R							# æŸ¥çœ‹å½“å‰æ—¶åŒº
	data -s "2019-03-31 13:12:29"	# ä¿®æ”¹ç³»ç»Ÿæ—¶é—´
	date +%s						# è·å–ç°åœ¨çš„ Unix æ—¶é—´æˆ³

	# e.g. : ä¾‹å¦‚ï¼Œå°†ç³»ç»Ÿæ—¥æœŸè®¾ç½®ä¸º2009å¹´1æœˆ31æ—¥ï¼Œæ™šä¸Š10ï¼š19ï¼Œ53ç§’
	date 013122192009.53
	date +%Y%m%d -s "20090131"

	# e.g. : å„ç§æ ¼å¼æ˜¾ç¤ºå½“å‰æ—¥æœŸå’Œæ—¶é—´çš„æ–¹æ³•
	date '+Current Date: %m/%d/%y%nCurrent Time:%H:%M:%S'
	date +"%d-%m-%Y"
	date +"%A,%B %d %Y"
	date --date="1 year ago"
	date --date="yesterday"
	date --date="10 months 2 day ago"
	date -d "last friday"
	date --date='3 seconds'
	date --date='4 hours'
	```

- ntpdate
	```bash
	# ntpdate å‘½ä»¤å¯ä»¥ç”¨äºè®¾ç½®æœ¬åœ°æ—¥æœŸå’Œæ—¶é—´
	ntpdate 0.rhel.pool.ntp.org	# ç½‘ç»œåŒæ­¥æ—¶é—´
	```

- hwclock
	```bash
	# hwclock è®¾ç½®ç¡¬ä»¶æ—¥æœŸå’Œæ—¶é—´
	hwclock			# ä½¿ç”¨ä¸å¸¦ä»»ä½•å‚æ•°çš„ hwclock æŸ¥çœ‹å½“å‰ç¡¬ä»¶æ—¥æœŸå’Œæ—¶é—´
	hwclock -w 		# å°†ç³»ç»Ÿæ—¶é’ŸåŒæ­¥åˆ°ç¡¬ä»¶æ—¶é’Ÿ,å°†å½“å‰æ—¶é—´å’Œæ—¥æœŸå†™å…¥ BIOS,é¿å…é‡å¯åå¤±æ•ˆ
	hwclock -s 		# å°†ç¡¬ä»¶æ—¶é’ŸåŒæ­¥åˆ°ç³»ç»Ÿæ—¶é’Ÿ
	```

- cal
	```bash
	# cal ç”¨äºæŸ¥çœ‹æ—¥å†
	cal
	```

**Tips**
- ntpd ä¸ ntpdate çš„åŒºåˆ«
	- ntpd åœ¨å®é™…åŒæ­¥æ—¶é—´æ—¶æ˜¯ä¸€ç‚¹ç‚¹çš„æ ¡å‡†è¿‡æ¥æ—¶é—´çš„,æœ€ç»ˆæŠŠæ—¶é—´æ…¢æ…¢çš„æ ¡æ­£å¯¹.è€Œ ntpdate ä¸ä¼šè€ƒè™‘å…¶ä»–ç¨‹åºæ˜¯å¦ä¼šé˜µç—›,ç›´æ¥è°ƒæ•´æ—¶é—´.
	- ä¸€ä¸ªæ˜¯æ ¡å‡†æ—¶é—´,ä¸€ä¸ªæ˜¯è°ƒæ•´æ—¶é—´.
	- https://blog.csdn.net/tuolaji8/article/details/79971591

### æ—¶åŒº

**æŸ¥çœ‹æ—¶åŒº**
```bash
timedatectl
```

**ä¿®æ”¹æ—¶åŒº**
```bash
timedatectl set-timezone Asia/Shanghai		# å°†æ—¶åŒºè®¾ç½®ä¸º Asia/Shanghai

æˆ–

cp  /usr/share/zoneinfo/Asia/Shanghai  /etc/localtime
```

### è¯­è¨€

**æŸ¥çœ‹ç³»ç»Ÿè¯­è¨€**
```bash
echo  $LANG 			# æŸ¥çœ‹å½“å‰æ“ä½œç³»ç»Ÿçš„è¯­è¨€
```

**ä¿®æ”¹ç³»ç»Ÿè¯­è¨€**
```bash
vim /etc/locale.conf

set LANG en_US.UTF-8	# æ›´æ”¹é»˜è®¤è¯­è¨€
	 zh_CN.UTF-8
```
```bash
source   /etc/locale.conf
```

**æ¢ç•Œé¢æ˜¾ç¤ºè¯­è¨€**
```bash
dpkg-reconfigure locales
# ç©ºæ ¼æ˜¯é€‰æ‹©,Tabæ˜¯åˆ‡æ¢,*æ˜¯é€‰ä¸­
# é€‰ä¸­ en_US.UTF-8 å’Œ zh_CN.UTF-8,ç¡®å®šå,å°† en_US.UTF-8 é€‰ä¸ºé»˜è®¤,ç„¶åå®‰è£…ä¸­æ–‡å­—ä½“
```

**å¦‚æœç•Œé¢å‡ºç°ä¹±ç ,å®‰è£…ä¸­æ–‡å­—ä½“**
```bash
apt install -y xfonts-intl-chinese
apt install -y ttf-wqy-microhei
reboot
```

### å¯åŠ¨é¡¹-è®¡åˆ’ä»»åŠ¡

**æŸ¥çœ‹**
```bash
chkconfig                   # æŸ¥çœ‹å¼€æœºå¯åŠ¨æœåŠ¡å‘½ä»¤
ls /etc/init.d              # æŸ¥çœ‹å¼€æœºå¯åŠ¨é…ç½®æ–‡ä»¶å‘½ä»¤
cat /etc/rc.local           # æŸ¥çœ‹ rc å¯åŠ¨æ–‡ä»¶
ls /etc/rc.d/rc[0~6].d

runlevel                    # æŸ¥çœ‹è¿è¡Œçº§åˆ«å‘½ä»¤
```

**è®¡åˆ’ä»»åŠ¡**
```bash
ls -alh /var/spool/cron     # é»˜è®¤ç¼–å†™çš„ crontab æ–‡ä»¶ä¼šä¿å­˜åœ¨ /var/spool/cron/ç”¨æˆ·å ä¸‹
ls -al /etc/ | grep cron
ls -al /etc/cron*
cat /etc/cron*
cat /etc/at.allow
cat /etc/at.deny
cat /etc/cron.allow
cat /etc/cron.deny
cat /etc/crontab
cat /etc/anacrontab
cat /var/spool/cron/crontabs/root
```

**crontab**
```bash
crontab -l   			# åˆ—å‡ºæŸä¸ªç”¨æˆ· cron æœåŠ¡çš„è¯¦ç»†å†…å®¹
crontab -r   			# åˆ é™¤æ¯ä¸ªç”¨æˆ· cront ä»»åŠ¡(è°¨æ…ï¼šåˆ é™¤æ‰€æœ‰çš„è®¡åˆ’ä»»åŠ¡)
crontab -e   			# ä½¿ç”¨ç¼–è¾‘å™¨ç¼–è¾‘å½“å‰çš„ crontab æ–‡ä»¶

vim /etc/crontab		# ç¼–è¾‘ç³»ç»Ÿä»»åŠ¡è°ƒåº¦çš„é…ç½®æ–‡ä»¶

# å‰5ä¸ªæ˜Ÿå·åˆ†åˆ«ä»£è¡¨:åˆ†é’Ÿ,å°æ—¶,å‡ å·,æœˆä»½,æ˜ŸæœŸå‡ 
* * * * * command		# æ¯1åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ command
3,15 * * * * command	# æ¯å°æ—¶çš„ç¬¬3å’Œç¬¬15åˆ†é’Ÿæ‰§è¡Œ
@reboot	command			# å¼€æœºå¯åŠ¨

# ä¾‹å­
0 */2 * * * /sbin/service httpd restart	# æ„æ€æ˜¯æ¯ä¸¤ä¸ªå°æ—¶é‡å¯ä¸€æ¬¡ apache
50 7 * * * /sbin/service sshd start		# æ„æ€æ˜¯æ¯å¤©7:50å¼€å¯ ssh æœåŠ¡
50 22 * * * /sbin/service sshd stop		# æ„æ€æ˜¯æ¯å¤©22:50å…³é—­ ssh æœåŠ¡
0 0 1,15 * * fsck /home					# æ¯æœˆ1å·å’Œ15å·æ£€æŸ¥ /home ç£ç›˜
1 * * * * /home/bruce/backup			# æ¯å°æ—¶çš„ç¬¬ä¸€åˆ†æ‰§è¡Œ /home/bruce/backup è¿™ä¸ªæ–‡ä»¶
00 03 * * 1-5 find /home "*.xxx" -mtime +4 -exec rm {} \;	# æ¯å‘¨ä¸€è‡³å‘¨äº”3ç‚¹é’Ÿ,åœ¨ç›®å½• /home ä¸­,æŸ¥æ‰¾æ–‡ä»¶åä¸º *.xxx çš„æ–‡ä»¶,å¹¶åˆ é™¤4å¤©å‰çš„æ–‡ä»¶.
30 6 */10 * * ls						# æ„æ€æ˜¯æ¯æœˆ 1ã€11ã€21ã€31 æ—¥çš„ 6:30 æ‰§è¡Œä¸€æ¬¡ ls å‘½ä»¤
```

å¯ä»¥ä½¿ç”¨åœ¨çº¿çš„ CRON è¡¨è¾¾å¼å·¥å…·è¾…åŠ© : https://tool.lu/crontab/

**at**

> åœ¨ç‰¹å®šçš„æ—¶é—´æ‰§è¡Œä¸€æ¬¡æ€§çš„ä»»åŠ¡
```bash
at now +1 minutes
echo "test" > test.txt
<ctrl+d>

atq		# åˆ—å‡ºç”¨æˆ·çš„è®¡åˆ’ä»»åŠ¡,å¦‚æœæ˜¯è¶…çº§ç”¨æˆ·å°†åˆ—å‡ºæ‰€æœ‰ç”¨æˆ·çš„ä»»åŠ¡,ç»“æœçš„è¾“å‡ºæ ¼å¼ä¸º:ä½œä¸šå·ã€æ—¥æœŸã€å°æ—¶ã€é˜Ÿåˆ—å’Œç”¨æˆ·å
atrm	# æ ¹æ® Job number åˆ é™¤ at ä»»åŠ¡
```

**/etc/rc.local**

åœ¨æ–‡ä»¶æœ«å°¾ (exit 0 ä¹‹å‰) åŠ ä¸Šä½ å¼€æœºéœ€è¦å¯åŠ¨çš„ç¨‹åºæˆ–æ‰§è¡Œçš„å‘½ä»¤å³å¯ (æ‰§è¡Œçš„ç¨‹åºéœ€è¦å†™ç»å¯¹è·¯å¾„,æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡çš„é™¤å¤–) ,å¦‚

**/etc/profile.d/**

å°†å†™å¥½çš„è„šæœ¬ (.sh æ–‡ä»¶) æ”¾åˆ°ç›®å½• `/etc/profile.d/` ä¸‹,ç³»ç»Ÿå¯åŠ¨åå°±ä¼šè‡ªåŠ¨æ‰§è¡Œè¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰ shell è„šæœ¬

### SELinux

**æŸ¥çœ‹ SELinux çŠ¶æ€**
```bash
getenforce			# æŸ¥çœ‹ selinux çŠ¶æ€
/usr/sbin/sestatus	# æŸ¥çœ‹å®‰å…¨ç­–ç•¥
```

**å…³é—­Â SELinux**
- éœ€è¦é‡å¯
	```vim
	vimÂ /etc/selinux/config

	SELINUX=disabled
	```

- ä¸éœ€è¦é‡å¯

	`setenforce 0`

---

## è´¦å·ç®¡æ§

**ç”¨æˆ·**
```bash
id									# æ˜¾ç¤ºçœŸå®æœ‰æ•ˆçš„ç”¨æˆ· ID(UID)å’Œç»„ ID(GID)
	id -un

whoami								# å½“å‰ç”¨æˆ·
cut -d: -f1 /etc/passwd				# æŸ¥çœ‹ç³»ç»Ÿæ‰€æœ‰ç”¨æˆ·

useradd <username>					# åˆ›å»ºç”¨æˆ·
useradd -d /home/<username> -s /sbin/nologin <username>		# åˆ›å»ºç”¨æˆ·å¹¶æŒ‡å®šå®¶ç›®å½•å’Œ shell
passwd <username>					# è®¾ç½®ç”¨æˆ·å¯†ç 

userdel <username>					# åªåˆ é™¤ç”¨æˆ·ä¸åˆ é™¤å®¶ç›®å½•
userdel -r <username>				# åŒæ—¶åˆ é™¤å®¶ç›®å½•
userdel -f <username>				# å¼ºåˆ¶åˆ é™¤,å³ä½¿ç”¨æˆ·è¿˜åœ¨ç™»å½•ä¸­

usermod -g <groupname> <username>	# ä¿®æ”¹ç”¨æˆ·çš„ä¸»ç»„
usermod -G <supplementary> <username>	# ä¿®æ”¹ç”¨æˆ·çš„é™„åŠ ç»„
usermod -s /bin/bash <username>		# ä¿®æ”¹ç”¨æˆ·ç™»å½•çš„ Shell
usermod -L <username>  				# é”å®šç”¨æˆ·
usermod -U <username> 				# è§£é”ç”¨æˆ·

chage								# ä¿®æ”¹å¸å·å’Œå¯†ç çš„æœ‰æ•ˆæœŸé™
	chage -l <username>				# æŸ¥çœ‹ä¸€ä¸‹ç”¨æˆ·å¯†ç çŠ¶æ€
	chage -d <username>				# æŠŠå¯†ç ä¿®æ”¹æ›°æœŸå½’é›¶äº†,è¿™æ ·ç”¨æˆ·ä¸€ç™»å½•å°±è¦ä¿®æ”¹å¯†ç 

passwd								# é…ç½® su å¯†ç 
	passwd -l <username>  			# é”å®šç”¨æˆ·
	passwd -u <username>  			# è§£é”ç”¨æˆ·

su <username>						# åˆ‡æ¢è´¦å·
su - <username>                     # åˆ‡æ¢è´¦å·å¹¶æ”¹å˜å·¥ä½œç›®å½•è‡³ä½¿ç”¨è€…çš„å®¶ç›®å½•

compgen -c                  		# åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„å‘½ä»¤

ulimit								# æŸ¥çœ‹ã€è®¾ç½®ã€è·å–æ–‡ä»¶æ‰“å¼€çš„çŠ¶æ€å’Œé…ç½®è¯¦æƒ…
	ulimit -a                   	# æ˜¾ç¤ºç™»å½•ç”¨æˆ·çš„èµ„æºé™åˆ¶
	ulimit -n 						# æ˜¾ç¤ºæ‰“å¼€æ–‡ä»¶æ•°é™åˆ¶
	ulimit -c 						# æ˜¾ç¤ºæ ¸å¿ƒè½¬å‚¨æ–‡ä»¶å¤§å°
	ulimit -u 						# æ˜¾ç¤ºç™»å½•ç”¨æˆ·çš„æœ€å¤§ç”¨æˆ·è¿›ç¨‹æ•°é™åˆ¶
	ulimit -f 						# æ˜¾ç¤ºç”¨æˆ·å¯ä»¥æ‹¥æœ‰çš„æœ€å¤§æ–‡ä»¶å¤§å°
	ulimit -m 						# æ˜¾ç¤ºç™»å½•ç”¨æˆ·çš„æœ€å¤§å†…å­˜å¤§å°
	ulimit -v 						# æ˜¾ç¤ºæœ€å¤§å†…å­˜å¤§å°é™åˆ¶
```

**ç»„**
```bash
groups								# å½“å‰ç»„

groupadd <groupname>				# åˆ›å»ºç»„
groupadd <username> <groupname>		# ç§»åŠ¨ç”¨æˆ·åˆ°ç»„

newgrp <groupname>					# åˆ›å»ºç»„
```

**æƒé™**
```bash
chown named.named <File/Folder>		# å°†æ–‡ä»¶ç»™æŒ‡å®šç”¨æˆ·åŠç»„

chmod <number> <File>				# ç»™æ–‡ä»¶æƒé™
# ç”¨æˆ· rwxã€ç»„ rwxã€å…¶ä»–ç”¨æˆ· rwx  4.2.1 åˆ†åˆ«ä»£è¡¨è¯»,å†™,æ‰§è¡Œ
	chmod 777 <File>
	chmod o=rw <File>				# ä»£è¡¨åªç»™å…¶ä»–ç”¨æˆ·åˆ†é…è¯»å†™æƒé™
	chmod u=rw,g=r,o= <File>
	chown -R u+x <Folder>			# å¯¹æ–‡ä»¶å¤¹åŠå…¶å­ç›®å½•æ‰€æœ‰æ–‡ä»¶çš„æ‰€æœ‰è€…å¢åŠ æ‰§è¡Œæƒé™

	chmod u+s test_file				# ç»™æ–‡ä»¶å¢åŠ  SUID å±æ€§
	chmod g+s test_dir     			# ç»™ç›®å½•å¢åŠ  SGID å±æ€§
	chmod o+t test_dir     			# ç»™ç›®å½•å¢åŠ  Sticky å±æ€§

chgrp				# æ”¹å˜æ–‡ä»¶æˆ–ç›®å½•æ‰€å±çš„ç”¨æˆ·ç»„
	chgrp user1 file.txt			# Change the owning group of the file file.txt to the group named user1.
	chgrp -hR staff /office/files	# Change the owning group of /office/files, and all subdirectories, to the group staff.

umask 002			# é…ç½®åç ,ä»£è¡¨åˆ›å»ºæ–‡ä»¶æƒé™æ˜¯ 664 å³ rw-rw-r--,é»˜è®¤ 0022(é‡å¯åæ¶ˆå¤±)
# umask å€¼ 002 æ‰€å¯¹åº”çš„æ–‡ä»¶å’Œç›®å½•åˆ›å»ºç¼ºçœæƒé™åˆ†åˆ«ä¸º 6 6 4 å’Œ 7 7 5
# éœ€è¦é•¿æœŸä¿®æ”¹,å¯ä»¥ç›´æ¥æ”¹ vim /etc/profile ä¸­ umask å€¼

chattr				# å¯ä¿®æ”¹æ–‡ä»¶çš„å¤šç§ç‰¹æ®Šå±æ€§
	chattr +i <File>		# å¢åŠ å,ä½¿æ–‡ä»¶ä¸èƒ½è¢«åˆ é™¤ã€é‡å‘½åã€è®¾å®šé“¾æ¥æ¥ã€å†™å…¥ã€æ–°å¢æ•°æ®
	chattr +a <File>		# å¢åŠ è¯¥å±æ€§å,åªèƒ½è¿½åŠ ä¸èƒ½åˆ é™¤,érootç”¨æˆ·ä¸èƒ½è®¾å®šè¯¥å±æ€§
	chattr +c <File>		# è‡ªåŠ¨å‹ç¼©è¯¥æ–‡ä»¶,è¯»å–æ—¶ä¼šè‡ªåŠ¨è§£å‹.Note: This attribute has no effect in the ext2, ext3, and ext4 filesystems.

lsattr <File>		# è¯¥å‘½ä»¤ç”¨æ¥è¯»å–æ–‡ä»¶æˆ–è€…ç›®å½•çš„ç‰¹æ®Šæƒé™
```
```bash
visudo	# åŠ  sudo æƒé™

user1 ALL=(ALL)     ALL
```
åŠ  sudo æƒé™(ä»…é™ Ubuntu)
```bash
adduser user1 sudo	# å°† user1 åŠ åˆ° sudo ç»„ä¸­
deluser user1 sudo	# å°† user1 ä» sudo ç»„ä¸­åˆ é™¤
```
```bash
sudo -v # æŸ¥çœ‹ sudo ä¿¡æ¯
sudo -l # æŸ¥çœ‹å½“å‰æƒé™
```

**ACL**
```bash
setfacl -m u:apache:rwx <File/Folder>	# é…ç½® ACL
getfacl <File/Folder>					# æŸ¥çœ‹ ACL æƒé™
setfacl -b <File/Folder>				# åˆ é™¤ ACL
```

å…³äº linux çš„è´¦å·å’Œè®¤è¯æ›´å¤šå†…å®¹å‚è€ƒç¬”è®° [è®¤è¯](./ç¬”è®°/è®¤è¯.md)

---

## è¿›ç¨‹ç®¡ç†

**æœåŠ¡ç®¡ç†**

- service
	```bash
	# æ§åˆ¶ç³»ç»ŸæœåŠ¡çš„å®ç”¨å·¥å…·
	service <ç¨‹åº> status/start/restart/stop
	```

- systemctl
	```bash
	# ç³»ç»ŸæœåŠ¡ç®¡ç†å™¨æŒ‡ä»¤
	systemctl enable crond.service	# è®©æŸä¸ªæœåŠ¡å¼€æœºè‡ªå¯(.service å¯ä»¥çœç•¥)
	systemctl disable crond			# ä¸è®©å¼€æœºè‡ªå¯
	systemctl status crond			# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
	systemctl start crond			# å¯åŠ¨æŸä¸ªæœåŠ¡
	systemctl stop crond			# åœæ­¢æŸä¸ªæœåŠ¡
	systemctl restart crond			# é‡å¯æŸä¸ªæœåŠ¡
	systemctl reload *				# é‡æ–°åŠ è½½æœåŠ¡é…ç½®æ–‡ä»¶
	systemctl is-enabled crond		# æŸ¥è¯¢æœåŠ¡æ˜¯å¦å¼€æœºå¯åŠ¨
	```

- chkconfig

	ä» CentOS7 å¼€å§‹,CentOS çš„æœåŠ¡ç®¡ç†å·¥å…·ç”± SysV æ”¹ä¸ºäº† systemd,ä½†å³ä½¿æ˜¯åœ¨ CentOS7 é‡Œ,ä¹Ÿä¾ç„¶å¯ä»¥ä½¿ç”¨ chkconfig è¿™ä¸ªåŸæœ¬å‡ºç°åœ¨ SysV é‡Œçš„å‘½ä»¤.
	```bash
	# æ£€æŸ¥ã€è®¾ç½®ç³»ç»Ÿçš„å„ç§æœåŠ¡
	chkconfig --list		# åˆ—å‡ºæ‰€æœ‰çš„ç³»ç»ŸæœåŠ¡
	chkconfig --add httpd	# å¢åŠ  httpd æœåŠ¡
	chkconfig --del httpd	# åˆ é™¤ httpd æœåŠ¡
	chkconfig --level httpd 2345 on	# è®¾ç½® httpd åœ¨è¿è¡Œçº§åˆ«ä¸º 2ã€3ã€4ã€5 çš„æƒ…å†µä¸‹éƒ½æ˜¯ on(å¼€å¯)çš„çŠ¶æ€,å¦å¤–å¦‚æœä¸ä¼ å…¥å‚æ•° --level,åˆ™é»˜è®¤é’ˆå¯¹çº§åˆ« 2/3/4/5 æ“ä½œ.
	```

**ç›‘è§†è¿›ç¨‹**

- ps
	```bash
	# æŸ¥çœ‹è¿›ç¨‹
	ps -l 			# é•¿æ ¼å¼æ˜¾ç¤ºè¯¦ç»†çš„ä¿¡æ¯
	ps -a 			# æ˜¾ç¤ºä¸€ä¸ªç»ˆç«¯çš„æ‰€æœ‰è¿›ç¨‹ï¼Œé™¤ä¼šè¯å¼•çº¿å¤–
	ps -A 			# æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹ä¿¡æ¯
	ps -u root 		# æŒ‡å®šç”¨æˆ·çš„æ‰€æœ‰è¿›ç¨‹ä¿¡æ¯
	ps -e 			# æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹ä¿¡æ¯
	ps aux 			# æŸ¥çœ‹ç³»ç»Ÿä¸­æ‰€æœ‰çš„è¿›ç¨‹æ˜¾ç¤ºæ‰€æœ‰åŒ…å«å…¶ä»–ä½¿ç”¨è€…çš„è¡Œç¨‹
	ps -axjf 		# ä»¥ç¨‹åºæ ‘çš„æ–¹å¼æ˜¾ç¤º
	ps -eLf 		# æ˜¾ç¤ºçº¿ç¨‹ä¿¡æ¯
	ps -ef | grep queue | grep -v grep | wc -l # æŸ¥æ‰¾å«æœ‰ queue å…³é”®è¯çš„è¿›ç¨‹ï¼ˆ-v å»æ‰ grep æœ¬èº«ï¼‰ï¼Œè¾“å‡ºæ‰¾åˆ°çš„è¿›ç¨‹æ•°é‡ã€‚
	ps -aux | awk '$2~/S/ {print $0}' #ç»Ÿè®¡ sleep çŠ¶æ€çš„è¿›ç¨‹

	ps aux | grep root	# æŸ¥çœ‹ root è¿è¡Œçš„ç¨‹åº
	ps -ef | grep root	# æŸ¥çœ‹ root è¿è¡Œçš„ç¨‹åº
	```

```bash
jobs	    # æ˜¾ç¤º Linux ä¸­çš„ä»»åŠ¡åˆ—è¡¨åŠä»»åŠ¡çŠ¶æ€
	jobs -l		    # æ˜¾ç¤ºè¿›ç¨‹å·

pidof program	    # æ‰¾å‡º program ç¨‹åºçš„è¿›ç¨‹ PID
pidof -x script     # æ‰¾å‡º shell è„šæœ¬ script çš„è¿›ç¨‹ PID

top					# å®æ—¶åŠ¨æ€åœ°æŸ¥çœ‹ç³»ç»Ÿçš„æ•´ä½“è¿è¡Œæƒ…å†µ

free
free -h				# æ˜¾ç¤ºå½“å‰ç³»ç»Ÿæœªä½¿ç”¨çš„å’Œå·²ä½¿ç”¨çš„å†…å­˜æ•°ç›®

vmstat 1			# æ˜¾ç¤ºè™šæ‹Ÿå†…å­˜çŠ¶æ€

ps					# æŠ¥å‘Šå½“å‰ç³»ç»Ÿçš„è¿›ç¨‹çŠ¶æ€
	ps -aux			# æ˜¾ç¤ºç°åœ¨æ‰€æœ‰ç”¨æˆ·æ‰€æœ‰ç¨‹åº
	# ç”±äºpså‘½ä»¤èƒ½å¤Ÿæ”¯æŒçš„ç³»ç»Ÿç±»å‹ç›¸å½“çš„å¤š,æ‰€ä»¥é€‰é¡¹å¤šçš„ç¦»è°±,è¿™é‡Œç•¥
pidstat -u -p ALL	# æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹çš„ CPU ä½¿ç”¨æƒ…å†µ

watch <Command>		# ä»¥å‘¨æœŸæ€§çš„æ–¹å¼æ‰§è¡Œç»™å®šçš„æŒ‡ä»¤,æŒ‡ä»¤è¾“å‡ºä»¥å…¨å±æ–¹å¼æ˜¾ç¤º.
	-n : æŒ‡å®šæŒ‡ä»¤æ‰§è¡Œçš„é—´éš”æ—¶é—´(ç§’);
	-d : é«˜äº®æ˜¾ç¤ºæŒ‡ä»¤è¾“å‡ºä¿¡æ¯ä¸åŒä¹‹å¤„;
	-t : ä¸æ˜¾ç¤ºæ ‡é¢˜.
```

**è¿›ç¨‹å¤„ç†**

- kill
	```bash
	# æ€æ­»è¿›ç¨‹
	kill -s <PID>							# åˆ é™¤æ‰§è¡Œä¸­çš„ç¨‹åºæˆ–å·¥ä½œ
		kill -l								# æ˜¾ç¤ºä¿¡å·
		kill -HUP <pid>						# æ›´æ”¹é…ç½®è€Œä¸éœ€åœæ­¢å¹¶é‡æ–°å¯åŠ¨æœåŠ¡
		kill -9 <PID> && kill -KILL <pid>	# ä¿¡å·(SIGKILL)æ— æ¡ä»¶ç»ˆæ­¢è¿›ç¨‹
	killall <PID>							# ä½¿ç”¨è¿›ç¨‹çš„åç§°æ¥æ€æ­»è¿›ç¨‹
	```

- pkill
	```bash
	# pkill ç”¨äºæ€æ­»ä¸€ä¸ªè¿›ç¨‹ï¼Œä¸ kill ä¸åŒçš„æ˜¯å®ƒä¼šæ€æ­»æŒ‡å®šåå­—çš„æ‰€æœ‰è¿›ç¨‹
	pkill -9 php-fpm	# ç»“æŸæ‰€æœ‰çš„ php-fpm è¿›ç¨‹
	```

```bash
ctrl+z	# å°†å‰å°è¿è¡Œçš„ä»»åŠ¡æš‚åœ,ä»…ä»…æ˜¯æš‚åœ,è€Œä¸æ˜¯å°†ä»»åŠ¡ç»ˆæ­¢.
bg		# è½¬åå°è¿è¡Œ
fg		# è½¬å‰å°è¿è¡Œ
```
```bash
cmdline
# åœ¨Linuxç³»ç»Ÿä¸­,æ ¹æ®è¿›ç¨‹å·å¾—åˆ°è¿›ç¨‹çš„å‘½ä»¤è¡Œå‚æ•°,å¸¸è§„çš„åšæ³•æ˜¯è¯»å– /proc/{PID}/cmdline,å¹¶ç”¨'\0'åˆ†å‰²å…¶ä¸­çš„å­—ç¬¦ä¸²å¾—åˆ°è¿›ç¨‹çš„ args[],ä¾‹å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­:
	# xxd /proc/7771/cmdline
	0000000: 2f69 746f 612f 6170 702f 6d61 7665 2f62  /itoa/app/mave/b
	0000010: 696e 2f6d 6176 6500 2d70 002f 6974 6f61  in/mave.-p./itoa
	0000020: 2f61 7070 2f6d 6176 6500                 /app/mave.
	é€šè¿‡åˆ†å‰²å…¶ä¸­çš„ 0x00(C è¯­è¨€å­—ç¬¦ä¸²ç»“æŸç¬¦),å¯ä»¥æŠŠè¿™ä¸ªè¿›ç¨‹ args[],è§£æå‡ºæ¥:
	args[0]=/itoa/app/mave/bin/mave
	args[1]=-p
	args[2]=/itoa/app/mave
```

**ä¸æŒ‚æ–­åœ°è¿è¡Œå‘½ä»¤**
- nohup
	```bash
	# nohup å‘½ä»¤è¿è¡Œç”± Command å‚æ•°å’Œä»»ä½•ç›¸å…³çš„ Arg å‚æ•°æŒ‡å®šçš„å‘½ä»¤, å¿½ç•¥æ‰€æœ‰æŒ‚æ–­ (SIGHUP) ä¿¡å·. åœ¨æ³¨é”€åä½¿ç”¨ nohup å‘½ä»¤è¿è¡Œåå°ä¸­çš„ç¨‹åº. è¦è¿è¡Œåå°ä¸­çš„ nohup å‘½ä»¤, æ·»åŠ  & ( è¡¨ç¤º "and" çš„ç¬¦å·)åˆ°å‘½ä»¤çš„å°¾éƒ¨.
	nohup [COMMAND] &			# ä½¿å‘½ä»¤æ°¸ä¹…çš„åœ¨åå°æ‰§è¡Œ

	# e.g.
		sh test.sh &		# å°† sh test.sh ä»»åŠ¡æ”¾åˆ°åå° , å…³é—­ xshell, å¯¹åº”çš„ä»»åŠ¡ä¹Ÿè·Ÿç€åœæ­¢.
		nohup sh test.sh	# å°† sh test.sh ä»»åŠ¡æ”¾åˆ°åå°, å…³é—­æ ‡å‡†è¾“å…¥, ç»ˆç«¯ä¸å†èƒ½å¤Ÿæ¥æ”¶ä»»ä½•è¾“å…¥(æ ‡å‡†è¾“å…¥), é‡å®šå‘æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯åˆ°å½“å‰ç›®å½•ä¸‹çš„ nohup.out æ–‡ä»¶, å³ä½¿å…³é—­ xshell é€€å‡ºå½“å‰ session ä¾ç„¶ç»§ç»­è¿è¡Œ.
		nohup sh test.sh  &	# å°† sh test.sh ä»»åŠ¡æ”¾åˆ°åå°, ä½†æ˜¯ä¾ç„¶å¯ä»¥ä½¿ç”¨æ ‡å‡†è¾“å…¥, ç»ˆç«¯èƒ½å¤Ÿæ¥æ”¶ä»»ä½•è¾“å…¥, é‡å®šå‘æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯åˆ°å½“å‰ç›®å½•ä¸‹çš„ nohup.out æ–‡ä»¶, å³ä½¿å…³é—­ xshell é€€å‡ºå½“å‰ session ä¾ç„¶ç»§ç»­è¿è¡Œ.
	```

- setsid
	```bash
	# setsid ä¸»è¦æ˜¯é‡æ–°åˆ›å»ºä¸€ä¸ª session,å­è¿›ç¨‹ä»çˆ¶è¿›ç¨‹ç»§æ‰¿äº† SessionIDã€è¿›ç¨‹ç»„ ID å’Œæ‰“å¼€çš„ç»ˆç«¯,å­è¿›ç¨‹å¦‚æœè¦è„±ç¦»çˆ¶è¿›ç¨‹,ä¸å—çˆ¶è¿›ç¨‹æ§åˆ¶,æˆ‘ä»¬å¯ä»¥ç”¨è¿™ä¸ª setsid å‘½ä»¤
		setsid [options] <program> [arguments ...]
			e.g. : setsid ping baidu.com	# setsid åå­è¿›ç¨‹ä¸å—ç»ˆç«¯å½±å“,ç»ˆç«¯é€€å‡º,ä¸å½±å“å­è¿›ç¨‹
			# åˆ«æ€¥,  ps -ef | grep ping ,æ‰¾åˆ° PID kill ç›¸åº”çš„ PID å°±å¯ä»¥å…³æ‰äº†ğŸ˜‚
	```

- disown
	```bash
	# ä½¿ä½œä¸šå¿½ç•¥ HUP ä¿¡å·
	disown [-h] [-ar] [jobspec ... | pid ...]
		# ç¤ºä¾‹1,å¦‚æœæäº¤å‘½ä»¤æ—¶å·²ç»ç”¨"&"å°†å‘½ä»¤æ”¾å…¥åå°è¿è¡Œ,åˆ™å¯ä»¥ç›´æ¥ä½¿ç”¨"disown"
		ping www.baidu.com &
		jobs
		disown -h %1
		ps -ef |grep ping

		# ç¤ºä¾‹2,å¦‚æœæäº¤å‘½ä»¤æ—¶æœªä½¿ç”¨"&"å°†å‘½ä»¤æ”¾å…¥åå°è¿è¡Œ,å¯ä½¿ç”¨ CTRL-z å’Œ"bg"å°†å…¶æ”¾å…¥åå°,å†ä½¿ç”¨"disown"
		ping www.baidu.com
		bg %1
		jobs
		disown -h %1
		ps -ef |grep ping
	```

æ›´å¤šè¿›ç¨‹ç®¡ç†å†…å®¹å‚è€ƒç¬”è®° [è¿›ç¨‹](./ç¬”è®°/è¿›ç¨‹.md)

---

## å†…æ ¸ç®¡ç†

**rmmod**

ç”¨äºä»å½“å‰è¿è¡Œçš„å†…æ ¸ä¸­ç§»é™¤æŒ‡å®šçš„å†…æ ¸æ¨¡å—ã€‚æ‰§è¡Œ rmmod æŒ‡ä»¤ï¼Œå¯åˆ é™¤ä¸éœ€è¦çš„æ¨¡å—ã€‚
```bash
rmmod [options] [arguments ...]

# é€‰é¡¹é‡Šä¹‰
	# -vï¼šæ˜¾ç¤ºæŒ‡ä»¤æ‰§è¡Œçš„è¯¦ç»†ä¿¡æ¯ï¼›
	# -fï¼šå¼ºåˆ¶ç§»é™¤æ¨¡å—ï¼Œä½¿ç”¨æ­¤é€‰é¡¹æ¯”è¾ƒå±é™©ï¼›
	# -wï¼šç­‰å¾…ç€ï¼Œç›´åˆ°æ¨¡å—èƒ½å¤Ÿè¢«é™¤æ—¶åœ¨ç§»é™¤æ¨¡å—ï¼›
	# -sï¼šå‘ç³»ç»Ÿæ—¥å¿—ï¼ˆsyslogï¼‰å‘é€é”™è¯¯ä¿¡æ¯ã€‚

# e.g.
	lsmod | grep raid1
	rmmod raid1			# å¸è½½æ­£åœ¨ä½¿ç”¨çš„Linuxå†…æ ¸æ¨¡å—
	# è­¦å‘Š : åœ¨ä½ ä¸ç¡®å®šè¿™ä¸ªå†…æ ¸æ¨¡å—æ˜¯å¹²ä»€ä¹ˆçš„ä¹‹å‰,ä¸è¦å¸è½½
```

**dmesg**

dmesg å¯ç”¨äºæ‰¾å‡ºå†…æ ¸æœ€æ–°æ¶ˆæ¯ä¸­çš„é”™è¯¯å’Œè­¦å‘Š
```bash
dmesg | less
```

**nmi_watchdog**

â€œçœ‹é—¨ç‹—NMIä¸­æ–­â€çš„æœºåˆ¶ã€‚ï¼ˆNMIï¼šNon Maskable Interrupt. è¿™ç§ä¸­æ–­å³ä½¿åœ¨ç³»ç»Ÿè¢«é”ä½æ—¶ï¼Œä¹Ÿèƒ½è¢«å“åº”ï¼‰ã€‚è¿™ç§æœºåˆ¶å¯ä»¥è¢«ç”¨æ¥è°ƒè¯•å†…æ ¸é”ä½ç°è±¡ã€‚é€šè¿‡å‘¨æœŸæ€§åœ°æ‰§è¡ŒNMIä¸­æ–­ï¼Œå†…æ ¸èƒ½å¤Ÿç›‘æµ‹åˆ°æ˜¯å¦æœ‰CPUè¢«é”ä½ã€‚å½“æœ‰å¤„ç†å™¨è¢«é”ä½æ—¶ï¼Œæ‰“å°è°ƒè¯•ä¿¡æ¯ã€‚
```bash
echo '0' >/proc/sys/kernel/nmi_watchdog 			# å…³é—­linux çœ‹é—¨ç‹—
echo 'kernel.nmi_watchdog=0' >>/etc/sysctl.conf   	# é‡å¯è‡ªåŠ¨å…³é—­
```

---

## è®¾å¤‡ç®¡ç†

æ›´å¤šå†…å®¹è§ç¬”è®° [ä¿¡æ¯](./ç¬”è®°/ä¿¡æ¯.md#ç¡¬ä»¶)

### å†…å­˜

**è™šæ‹Ÿå†…å­˜**

```bash
free -h	# æŸ¥çœ‹ swap åˆ†åŒº
vmstat
swapon -s
```

å¦‚æœæœºå™¨æ²¡æœ‰å®‰è£… swap åˆ†åŒºå¯ä»¥è‡ªå·±åˆ†é…ä¸€ä¸ª
```bash
# åˆ›å»ºä¸€ä¸ªswapæ–‡ä»¶,å¤§å°ä¸º1G
dd if=/dev/zero of=/home/f8xswap bs=1M count=1024

# å°†æ–‡ä»¶æ ¼å¼è½¬æ¢ä¸ºswapæ ¼å¼çš„
mkswap /home/f8xswap

# æŠŠè¿™ä¸ªæ–‡ä»¶åˆ†åŒºæŒ‚è½½swapåˆ†åŒº
swapon /home/f8xswap

```

é•¿æœŸæŒ‚è½½
```
echo "/home/f8xswap swap swap default 0 0" >> /etc/fstab
```

### ç£ç›˜

**ç£ç›˜çš„æ–‡ä»¶å**

Linux ä¸­æ¯ä¸ªç¡¬ä»¶éƒ½è¢«å½“åšä¸€ä¸ªæ–‡ä»¶ï¼ŒåŒ…æ‹¬ç£ç›˜ã€‚ç£ç›˜ä»¥ç£ç›˜æ¥å£ç±»å‹è¿›è¡Œå‘½åï¼Œå¸¸è§ç£ç›˜çš„æ–‡ä»¶åå¦‚ä¸‹ï¼š
- IDE ç£ç›˜ : /dev/hd[a-d]
- SATA/SCSI/SAS ç£ç›˜ : /dev/sd[a-p]
å…¶ä¸­æ–‡ä»¶ååé¢çš„åºå·çš„ç¡®å®šä¸ç³»ç»Ÿä¾¦æµ‹åˆ°ç£ç›˜çš„é¡ºåºæœ‰å…³ï¼Œè€Œä¸ç£ç›˜æ‰€æ’å…¥çš„æ’æ§½ä½ç½®æ— å…³ã€‚

**ç£ç›˜é…é¢**
- quota : èƒ½å¯¹æŸä¸€åˆ†åŒºä¸‹æŒ‡å®šç”¨æˆ·æˆ–ç”¨æˆ·ç»„è¿›è¡Œç£ç›˜é™é¢ã€‚

**åˆ†åŒº**
```bash
fdiskÂ -l			# æŸ¥çœ‹ç£ç›˜æƒ…å†µ
fdiskÂ /dev/sdb		# åˆ›å»ºç³»ç»Ÿåˆ†åŒº
	n	# æ·»åŠ ä¸€ä¸ªåˆ†åŒº
	p	# å»ºç«‹ä¸»åˆ†åŒº
	1	# åˆ†åŒºå·
	åé¢éƒ½æ˜¯é»˜è®¤,ç›´æ¥å›è½¦

	t	# è½¬æ¢åˆ†åŒºæ ¼å¼
	8e	# LVM æ ¼å¼

	w	# å†™å…¥åˆ†åŒºè¡¨
```

**æŒ‚è½½**
```bash
cat /etc/fstab
mount

mount /dev/sdd1 /mnt/sdd		# æŒ‚è½½æ–°ç¡¬ç›˜åˆ°æ“ä½œç³»ç»Ÿçš„æŸä¸ªèŠ‚ç‚¹ä¸Š
mount /dev/cdrom /mnt/cdrom/	# æŒ‚è½½ CD é•œåƒ
mount -t vfstype				# æŒ‡å®šæ–‡ä»¶ç³»ç»Ÿçš„ç±»å‹,é€šå¸¸ä¸å¿…æŒ‡å®š.mount ä¼šè‡ªåŠ¨é€‰æ‹©æ­£ç¡®çš„ç±»å‹.

vi /etc/fstab					# è‡ªåŠ¨æŒ‚è½½
/dev/cdrom /mnt/cdrom iso9660 defaults 0 0

findmnt							# æ˜¾ç¤ºLinuxä¸­å½“å‰æŒ‚è½½çš„æ–‡ä»¶ç³»ç»Ÿ
```

**åˆ é™¤**
```bash
rm <File>	# åˆ é™¤æŒ‡å®šæ–‡ä»¶
	rm -r <Folder>	# åˆ é™¤æ–‡ä»¶å¤¹
	rm -i <File>	# åˆ é™¤å‰ç¡®è®¤
	rm -f <File>	# å¼ºåˆ¶åˆ é™¤
	rm -v <File>	# æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯

shred -zvu -n  5 <File>	# ä¸»è¦ç”¨äºæ–‡ä»¶è¦†ç›–å†…å®¹,ä¹Ÿå¯ä»¥åˆ é™¤
	# -z - ç”¨é›¶æ·»åŠ æœ€åçš„è¦†ç›–ä»¥éšè—ç¢åŒ–
	# -v - æ˜¾ç¤ºæ“ä½œè¿›åº¦
	# -u - è¦†ç›–åæˆªæ–­å¹¶åˆ é™¤æ–‡ä»¶
	# -n - æŒ‡å®šè¦†ç›–æ–‡ä»¶å†…å®¹çš„æ¬¡æ•°(é»˜è®¤å€¼ä¸º3)
```

**æ•°æ®æ¢å¤**
- [æ•°æ®æ¢å¤](./Secure-Linux.md#æ–‡ä»¶æ¢å¤)

**å ç”¨**
- df
	```bash
	# æŠ¥å‘Šé©±åŠ¨å™¨çš„ç©ºé—´ä½¿ç”¨æƒ…å†µ
	df [options] [arguments ...]

	# e.g.
		df -H	# ä»¥äººç±»å¯è¯»çš„æ ¼å¼è¿›è¡Œæ˜¾ç¤º
		df -ah	# æŸ¥çœ‹ç£ç›˜å ç”¨å¤§çš„æ–‡ä»¶å¤¹
	```

- du
	```bash
	# æŠ¥å‘Šç›®å½•çš„ç©ºé—´ä½¿ç”¨æƒ…å†µ
	du [options] [arguments ...]

	# e.g.
		du -h . | sort			# ä»¥äººç±»å¯è¯»çš„æ ¼å¼è¿›è¡Œæ˜¾ç¤º,æ’åºæ˜¾ç¤º
		du -hd 1 / | sort -hr
		du -sh /etc/yum			# ç‰¹å®šç›®å½•çš„æ€»ä½¿ç”¨é‡
		du --max-depth=1 -h		# æŸ¥çœ‹æ–‡ä»¶å¤¹ä¸‹å„ä¸ªæ–‡ä»¶å¤¹çš„ç£ç›˜å ç”¨
	```

**dd**

```bash
# ä¸»è¦åŠŸèƒ½ä¸ºè½¬æ¢å’Œå¤åˆ¶æ–‡ä»¶ã€‚
dd [options]
	e.g. : dd if=/dev/zero of=out.txt bs=1M count=1
	# if ä»£è¡¨è¾“å…¥æ–‡ä»¶.å¦‚æœä¸æŒ‡å®š if,é»˜è®¤å°±ä¼šä» stdin ä¸­è¯»å–è¾“å…¥.
	# of ä»£è¡¨è¾“å‡ºæ–‡ä»¶.å¦‚æœä¸æŒ‡å®š of,é»˜è®¤å°±ä¼šå°† stdout ä½œä¸ºé»˜è®¤è¾“å‡º.
	# ibs=bytes:ä¸€æ¬¡è¯»å…¥ bytes ä¸ªå­—èŠ‚,å³æŒ‡å®šä¸€ä¸ªå—å¤§å°ä¸º bytes ä¸ªå­—èŠ‚.
	# obs=bytes:ä¸€æ¬¡è¾“å‡º bytes ä¸ªå­—èŠ‚,å³æŒ‡å®šä¸€ä¸ªå—å¤§å°ä¸º bytes ä¸ªå­—èŠ‚.
	# bs ä»£è¡¨å­—èŠ‚ä¸ºå•ä½çš„å—å¤§å°.
	# count ä»£è¡¨è¢«å¤åˆ¶çš„å—æ•°.
	# /dev/zero æ˜¯ä¸€ä¸ªå­—ç¬¦è®¾å¤‡,ä¼šä¸æ–­è¿”å› 0 å€¼å­—èŠ‚(\0).

	# e.g. æˆªå–åœ°å€ 925888ï¼ˆ0xe20c0ï¼‰ä¹‹åçš„æ•°æ®ï¼Œä¿å­˜åˆ° out.bin
	dd if=test.trx bs=1 skip=925888 of=out.bin

	# e.g. æ–‡ä»¶åˆ†å—åˆå¹¶,æ–‡ä»¶åˆ†ä¸º 1 2 3 4 5 æ¯ä¸ªæ–‡ä»¶ æ— ç”¨å¤´ä¿¡æ¯ 364 å­—èŠ‚,å»æ‰å¤´ä¿¡æ¯åˆå¹¶
	dd if=1 bs=1 skip=364 of=11
	dd if=2 bs=1 skip=364 of=22
	dd if=3 bs=1 skip=364 of=33
	dd if=4 bs=1 skip=364 of=44
	dd if=5 bs=1 skip=364 of=55
	cat 11 22 33 44 55 > fly.rar
```

**LVM**

> LVM æ˜¯ Logical Volume Manager çš„ç¼©å†™ï¼Œä¸­æ–‡ä¸€èˆ¬ç¿»è¯‘ä¸º "é€»è¾‘å·ç®¡ç†"ï¼Œå®ƒæ˜¯ Linux ä¸‹å¯¹ç£ç›˜åˆ†åŒºè¿›è¡Œç®¡ç†çš„ä¸€ç§æœºåˆ¶ã€‚LVM æ˜¯å»ºç«‹åœ¨ç£ç›˜åˆ†åŒºå’Œæ–‡ä»¶ç³»ç»Ÿä¹‹é—´çš„ä¸€ä¸ªé€»è¾‘å±‚ï¼Œç³»ç»Ÿç®¡ç†å‘˜å¯ä»¥åˆ©ç”¨ LVM åœ¨ä¸é‡æ–°å¯¹ç£ç›˜åˆ†åŒºçš„æƒ…å†µä¸‹åŠ¨æ€çš„è°ƒæ•´åˆ†åŒºçš„å¤§å°ã€‚å¦‚æœç³»ç»Ÿæ–°å¢äº†ä¸€å—ç¡¬ç›˜ï¼Œé€šè¿‡ LVM å°±å¯ä»¥å°†æ–°å¢çš„ç¡¬ç›˜ç©ºé—´ç›´æ¥æ‰©å±•åˆ°åŸæ¥çš„ç£ç›˜åˆ†åŒºä¸Šã€‚

- **ç‰©ç†å·**

	åˆ›å»ºç‰©ç†å·
	```bash
	pvcreate /dev/sda5
	```

	æŸ¥çœ‹ç‰©ç†å·
	```bash
	pvdisplay
	```

	ç‰©ç†å·æ•°æ®è½¬ç§»
	```bash
	pvmove /dev/sda4 /dev/sda5  # æŠŠ/dev/sda4ç‰©ç†å·æ•°æ®è½¬ç§»åˆ°/dev/sda5ç‰©ç†å·ä¸Šï¼Œæ³¨æ„è½¬ç§»çš„æ—¶å€™æŸ¥çœ‹ç‰©ç†å·å¤§å°
	```

	åˆ é™¤ç‰©ç†å·
	```bash
	pvremove /dev/sda4
	```

- **å·ç»„**

	å·ç»„å¯ä»¥ç”±ä¸€ä¸ªæˆ–å¤šä¸ªç‰©ç†å·ç»„æˆ,å½“å·ç»„ç©ºé—´ä¸å¤Ÿæ—¶å¯ä»¥å†æ–°å¢ç‰©ç†å·æ‰©å®¹.

	åˆ›å»ºå·ç»„
	```bash
	vgcreate vg1 /dev/sda5
	```

	æ–°å¢å·ç»„
	```bash
	vgextend vg1 /dev/sda6
	```

	åˆ é™¤å·ç»„
	```bash
	vgremove vg1
	```

	æŸ¥çœ‹å·ç»„
	```bash
	vgdisplay
	vgs
	```

	ç§»é™¤æŸå—ç‰©ç†å·
	```bash
	vgremove vg1 /dev/sda6
	```

- **é€»è¾‘å·**

	é€»è¾‘å·å»ºç«‹åœ¨å·ç»„åŸºç¡€ä¹‹ä¸Šçš„,æ‰€ä»¥åœ¨åˆ›å»ºé€»è¾‘å·çš„æ—¶å€™ä¸€å®šè¦æŒ‡å®šå·ç»„åç§°.

	åˆ›å»ºé€»è¾‘å·
	```bash
	lvcreate -L 3G -n lvdisk1 vg1
	```

	æ˜¾ç¤ºé€»è¾‘å·
	```bash
	lvdisplay
	lvs
	```

	æŒ‚è½½é€»è¾‘å·
	```bash
	# è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯æ ¼å¼åŒ–çš„æ ¼å¼ä¸æŒ‚è½½è¦è¿›è¡ŒåŒ¹é…ï¼Œå¦åˆ™ä¼šå‡ºç°é—®é¢˜ï¼›æŒ‚è½½ä¹‹åé‡å¯ä¼šå¤±æ•ˆï¼Œè¯·æŸ¥çœ‹ä¸‹é¢è®©é‡å¯è‡ªåŠ¨æŒ‚è½½çš„åšæ³•ã€‚

	mkfs.ext4 -t /dev/vg1/lvdisk1
	mount -t ext4 /dev/vg1/lvdisk1 /hehe
	mkfs.xfs -f /dev/vg1/lvdisk1
	mount -t xfs /dev/vg1/lvdisk1 /hehe
	```

	åˆ é™¤é€»è¾‘å·
	```bash
	lvremove /dev/vg1/lvdisk1
	```

	æ‰©å®¹é€»è¾‘å·(å·ç»„çš„å¯ç”¨èŒƒå›´å†…çš„å®¹é‡å€¼)
	```bash
	lvextend -L +1G /dev/vg1/lvdisk1
	lvextend -l +100%FREE /dev/mapper/ubuntu--vg-ubuntu--lv
	```

	æ”¶ç¼©é€»è¾‘å·å®¹é‡
	```bash
	# æç¤ºï¼šä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ—¶æ³¨æ„æ•°æ®å¯èƒ½ä¼šä¸¢å¤±ï¼Œè¯·æ³¨æ„å¤‡ä»½æ•°æ®ä¹‹åè¿›è¡Œæ“ä½œã€‚

	lvreduce -L -20G /dev/vg1/lvdisk1
	```

	æ‰©å®¹ç”Ÿæ•ˆ
	```bash
	resize2fs /dev/vg1/lvdisk1
	xfs_growfs /dev/vg1/lvdisk1
	# æ³¨æ„ï¼šresize2fsä¸»è¦é’ˆå¯¹ext4ç›®å½•æ ¼å¼è¿›è¡Œå¤„ç†ï¼Œè€Œxfs_growfsä¸»è¦é’ˆå¯¹xfsç›®å½•æ ¼å¼ã€‚
	```

	æŒ‚è½½é‡å¯å¤±æ•ˆé—®é¢˜
	```bash
	# åˆ©ç”¨rootæƒé™ç¼–è¾‘/etc/fstabæ–‡ä»¶åŠ å…¥æŒ‚è½½ç‚¹ï¼Œè¿™æ ·å¼€æœºä¼šè‡ªåŠ¨æŒ‚è½½ã€‚

	/dev/vg1/lvdisk1 /hehe ext4    defaults    0  0
	```

**å—è®¾å¤‡ä¿¡æ¯**

- lsblk
	```bash
	# æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨å—è®¾å¤‡çš„ä¿¡æ¯
	lsblk -m	# æ˜¾ç¤ºè®¾å¤‡æ‰€æœ‰è€…ç›¸å…³çš„ä¿¡æ¯,åŒ…æ‹¬æ–‡ä»¶çš„æ‰€å±ç”¨æˆ·ã€æ‰€å±ç»„ä»¥åŠæ–‡ä»¶ç³»ç»ŸæŒ‚è½½çš„æ¨¡å¼
	```

- blkid
	```bash
   	# è¾“å‡ºæ‰€æœ‰å¯ç”¨çš„è®¾å¤‡ã€UUIDã€æ–‡ä»¶ç³»ç»Ÿç±»å‹ä»¥åŠå·æ ‡

	# e.g.
	blkid /dev/sda1
	blkid -U d3b1dcc2-e3b0-45b0-b703-d6d0d360e524
	blkid -po udev /dev/sda1	# è·å–æ›´å¤šè¯¦ç»†ä¿¡æ¯
	blkid -g					# æ¸…ç† blkid çš„ç¼“å­˜
	```

- partx
	```bash
	# æ˜¾ç¤ºç£ç›˜ä¸Šåˆ†åŒºçš„å­˜åœ¨å’Œç¼–å·
	partx --show /dev/sda
	partx --show /dev/sda1
	```

---

### æ— çº¿ç½‘å¡

**é…ç½®æ— çº¿ç½‘å¡**
- WM Ware(å¼€æœºå)

    è™šæ‹Ÿæœº->å¯ç§»åŠ¨è®¾å¤‡->Ralink 802.11 n Wlan(æ˜¾å¡å‹å·)->è¿æ¥(æ–­å¼€ä¸ä¸»æœºçš„è¿æ¥)

- VBox

    è™šæ‹Ÿæœºå…³æœºçŠ¶æ€ä¸‹->å°†è®¾å¤‡æ’å…¥ä¸»æœº->è®¾ç½®->USBè®¾å¤‡->æ·»åŠ ->åˆ é™¤é™¤äº†ä¾›åº”å•†æ ‡è¯†(VendorID)å’Œäº§å“æ ‡è¯†(ProductID)ä¹‹å¤–çš„å‚æ•°->å¼€æœº->æ’å…¥è®¾å¤‡

- éªŒè¯æ˜¯å¦è¿æ¥æˆåŠŸ

    ```bash
    lsusb
    airmon-ng
    ifconfig
    iwconfig
    ```
    å‡ºç°æ— çº¿ç½‘å¡å‹å·å³ä¸ºæˆåŠŸ

---

### è“ç‰™

**å¯åŠ¨è“ç‰™æœåŠ¡**
```bash
service bluetooth start
```

**æ¿€æ´»è“ç‰™è®¾å¤‡**
```bash
hciconfig hci0 up	# æ¿€æ´»è“ç‰™è®¾å¤‡
hciconfig hci0		# æŸ¥çœ‹å±æ€§
	# ç¬¬äºŒè¡Œä¸­çš„ â€œBD Addressâ€ï¼Œè¿™æ˜¯è“ç‰™è®¾å¤‡çš„MACåœ°å€
```

---

### å¤–æ¥ç¡¬ç›˜

```bash
fdisk -l			# æŸ¥çœ‹ç£ç›˜æƒ…å†µ

mkdir -p /mnt/usb1
mount /dev/sdb1 /mnt/usb1
cd /mnt/usb1

umount /mnt/usb1	# å–æ¶ˆæŒ‚åœ¨
```

**[NTFS-3G](https://jp-andre.pagesperso-orange.fr/advanced-ntfs-3g.html)**
```bash
yum install -y fuse-devel

cd /tmp
wget https://jp-andre.pagesperso-orange.fr/ntfs-3g-2017.3.23AR.5-1.el7.x86_64.rpm
rpm -ivh ntfs-3g-2017.3.23AR.5-1.el7.x86_64.rpm

fdisk -l
mkdir -p /mnt/ntfsusb
mount -t ntfs-3g /dev/sda1 /mnt/ntfsusb
```

### CD & DVD

**åˆ»å½• CD**
```bash
cdrecord -V -eject dev=/dev/cdrom data-backup.iso
```

**åˆ»å½• DVD**
```bash
growisofs -dvd-compat -Z /dev/dvdrw=data.iso
```

**ä» CD æˆ– DVD åˆ›å»º ISO æ–‡ä»¶**
```bash
isoinfo -d -i /dev/cdrom

dd if=/dev/cdrom bs=2048 count=1825 of=mydata.iso
```
