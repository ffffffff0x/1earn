# JPG

---

jpg 文件头 0xffd8ff 文件尾 0xffd9

---

JPG 的宽高在 FFC0 标志位后，第四五字节是高，第六七字节是宽

JPEG文件大体上可以分成两个部分：标记码(Tag)和压缩数据。

**标记码**

标记码由两个字节构成，其前一个字节是固定值0xFF，后一个字节则根据不同意义有不同数值。在每个标记码之前还可以添加数目不限的无意义的0xFF填充，也就说连续的多个0xFF可以被理解为一个0xFF，并表示一个标记码的开始。而在一个完整的两字节的标记码后，就是该标记码对应的压缩数据流，记录了关于文件的诸种信息。常用的标记有：

- SOI(0xFFD8)
- APP0(0xFFE0)
- [APPn(0xFFEn)]可选
- DQT(0xFFDB)
- SOF0(0xFFC0)#含有宽度和高度
    - ① 数据长度 2字节 ①~⑥六个字段的总长度即不包括标记代码，但包括本字段
    - ② 精度 1字节 每个数据样本的位数，通常是8位，一般软件都不支持 12位和16位
    - ③ 图像高度 2字节 图像高度（单位：像素），如果不支持 DNL 就必须 >0
    - ④ 图像宽度 2字节 图像宽度（单位：像素），如果不支持 DNL 就必须 >0
    - ⑤ 颜色分量数 1字节 只有3个数值可选. 1：灰度图；3：YCrCb或YIQ；4：CMYK。 而JFIF中使用YCrCb，故这里颜色分量数恒为3
    - ⑥ 颜色分量信息 颜色分量数×3字节（通常为9字节）
- DHT(0xFFC4)
- SOS(0xFFDA)
- 压缩数据
- EOI(0xFFD9)

---

**Source & Reference**
- [misc-stegaBasic](https://www.jianshu.com/p/fe7a5fff2a95)
